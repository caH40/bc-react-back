{"version":3,"file":"static/js/372.f0dde692.chunk.js","mappings":"oIAWA,IARmB,WAClB,OACC,SAAC,KAAM,WACN,iBAAMA,KAAK,SAASC,QAAQ,kCAG/B,C,iKC2CA,EA9CoB,SAAH,GAAiC,IAA3BC,EAAM,EAANA,OAAQC,EAAW,EAAXA,YACxBC,GAAWC,EAAAA,EAAAA,MAEjB,OACC,8BACC,4BACC,2BACC,wBAAI,OACJ,wBAAI,8BACJ,wBAAI,wEACJ,wBAAI,sDACJ,wBAAI,4DACJ,wBAAI,oFACJ,wBAAI,2DAGN,2BACEH,EAAOI,KAAI,SAACC,EAAOC,GAAK,aACxB,2BACC,wBAAKA,EAAQ,KACb,wBAAK,IAAIC,KAAKF,EAAMG,MAAMC,wBAC1B,yBACC,gBAAKC,UAAWC,EAAAA,EAAAA,gBAAyBC,IAAKP,EAAMQ,UAAWC,IAAI,YAEpE,eAAIJ,UAAWC,EAAAA,EAAAA,YAAoB,SAAEN,EAAMU,aAC3C,wBAAmB,QAAnB,EAAKV,EAAMW,gBAAQ,aAAd,EAAgBC,YACrB,yBACC,SAACC,EAAA,EAAM,CAACC,SAAU,kBAAMjB,EAASG,EAAMe,IAAI,EAAEC,kBAAkB,WAAU,SAAC,sFAI3E,yBACC,SAACH,EAAA,EAAM,CACNC,SAAU,kBAAMlB,EAAYI,EAAMe,IAAI,EACtCE,YAAY,UACZD,kBAAkB,WAAU,SAAC,mDAjBvBhB,EAAMe,IAqBV,QAKV,E,UCjDA,EAA0B,0BAA1B,EAA4D,wBCiD5D,EAxCiB,WAChB,OAA4BG,EAAAA,EAAAA,UAAS,IAAG,eAAjCvB,EAAM,KAAEwB,EAAS,KACxB,GAA8BD,EAAAA,EAAAA,WAAS,GAAM,eAAtCE,EAAO,KAAEC,EAAU,KAEpBC,GAAWC,EAAAA,EAAAA,OAEjBC,EAAAA,EAAAA,YAAU,YACTC,EAAAA,EAAAA,MAAgBC,MAAK,SAAAC,GACpBR,EAAUQ,EAAKA,KAAKhC,OACrB,GACD,GAAG,CAACyB,IAqBJ,OACC,qBAASf,UAAWC,EAAgB,WACnC,SAACsB,EAAA,EAAU,KACX,eAAIvB,UAAWC,EAAc,SAAC,wOAC9B,SAAC,EAAW,CAACX,OAAQA,EAAQC,YAvBX,SAAAiC,GAEnB,IADiBC,OAAOC,QAAQ,kKAE/B,OAAOT,GACNU,EAAAA,EAAAA,GAAS,CAAEC,QAAS,yIAA4BC,KAAM,UAAWC,UAAU,MAG7EC,EAAAA,EAAAA,IAAgBP,GAASH,MAAK,SAAAC,GAC7B,GAAoB,MAAhBA,EAAKU,OAGR,OAFAf,GAASU,EAAAA,EAAAA,GAAS,CAAEC,QAAS,kFAAkBC,KAAM,UAAWC,UAAU,UAC1Ed,GAAW,SAAAiB,GAAI,OAAKA,CAAI,GAG1B,IACAhB,GAASU,EAAAA,EAAAA,GAAS,CAAEC,QAAS,oGAA0BC,KAAM,UAAWC,UAAU,KAClFd,GAAW,SAAAiB,GAAI,OAAKA,CAAI,GAEzB,MASD,C","sources":["Components/Helmets/HTrailEdit.jsx","Components/Table/Trails/TableTrails.jsx","webpack://client/./src/Pages/PagesCss/TrailAll.module.css?9bfb","Pages/Admin/TrailAll.jsx"],"sourcesContent":["import React from 'react';\r\nimport { Helmet } from 'react-helmet-async';\r\n\r\nconst HTrailEdit = () => {\r\n\treturn (\r\n\t\t<Helmet>\r\n\t\t\t<meta name=\"robots\" content=\"noindex, nofollow, noarchive\" />\r\n\t\t</Helmet>\r\n\t);\r\n};\r\n\r\nexport default HTrailEdit;\r\n","import React from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nimport Button from '../../UI/Button/Button';\r\nimport classes from '../Table.module.css';\r\n\r\nconst TableTrails = ({ trails, deleteTrail }) => {\r\n\tconst navigate = useNavigate();\r\n\r\n\treturn (\r\n\t\t<table>\r\n\t\t\t<thead>\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t<th>#</th>\r\n\t\t\t\t\t<th>Дата</th>\r\n\t\t\t\t\t<th>Изображение</th>\r\n\t\t\t\t\t<th>Название</th>\r\n\t\t\t\t\t<th>Создатель</th>\r\n\t\t\t\t\t<th>Редактировать</th>\r\n\t\t\t\t\t<th>Удаление</th>\r\n\t\t\t\t</tr>\r\n\t\t\t</thead>\r\n\t\t\t<tbody>\r\n\t\t\t\t{trails.map((trail, index) => (\r\n\t\t\t\t\t<tr key={trail._id}>\r\n\t\t\t\t\t\t<td>{index + 1}</td>\r\n\t\t\t\t\t\t<td>{new Date(trail.date).toLocaleDateString()}</td>\r\n\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t<img className={classes.td__news__image} src={trail.cardPhoto} alt=\"news\"></img>\r\n\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t<td className={classes.align__left}>{trail.nameRoute}</td>\r\n\t\t\t\t\t\t<td>{trail.postedBy?.username}</td>\r\n\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t<Button getClick={() => navigate(trail._id)} additionalClasses=\"td__link\">\r\n\t\t\t\t\t\t\t\tРедактировать\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tgetClick={() => deleteTrail(trail._id)}\r\n\t\t\t\t\t\t\t\ttargetClass=\"warning\"\r\n\t\t\t\t\t\t\t\tadditionalClasses=\"td__link\">\r\n\t\t\t\t\t\t\t\tУдалить\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t))}\r\n\t\t\t</tbody>\r\n\t\t</table>\r\n\t);\r\n};\r\n\r\nexport default TableTrails;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"TrailAll_wrapper__gKB+9\",\"title\":\"TrailAll_title__9tow3\"};","import React, { useEffect, useState } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { getTrailsEdit, postDeleteTrail } from '../../api/trail';\r\n\r\nimport HTrailEdit from '../../Components/Helmets/HTrailEdit';\r\nimport TableTrails from '../../Components/Table/Trails/TableTrails';\r\nimport { getAlert } from '../../redux/features/alertMessageSlice';\r\n\r\nimport classes from '../PagesCss/TrailAll.module.css';\r\n\r\nconst TrailAll = () => {\r\n\tconst [trails, setTrails] = useState([]);\r\n\tconst [trigger, setTrigger] = useState(false);\r\n\r\n\tconst dispatch = useDispatch();\r\n\r\n\tuseEffect(() => {\r\n\t\tgetTrailsEdit().then(data => {\r\n\t\t\tsetTrails(data.data.trails);\r\n\t\t});\r\n\t}, [trigger]);\r\n\r\n\tconst deleteTrail = trailId => {\r\n\t\tconst response = window.confirm('Подтвердите удаление новости');\r\n\t\tif (!response) {\r\n\t\t\treturn dispatch(\r\n\t\t\t\tgetAlert({ message: 'Отмена удаления маршрута', type: 'warning', isOpened: true })\r\n\t\t\t);\r\n\t\t}\r\n\t\tpostDeleteTrail(trailId).then(data => {\r\n\t\t\tif (data.status === 200) {\r\n\t\t\t\tdispatch(getAlert({ message: 'Маршрут удалён', type: 'success', isOpened: true }));\r\n\t\t\t\tsetTrigger(prev => !prev);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t});\r\n\t\tdispatch(getAlert({ message: 'Что то пошло не так...', type: 'warning', isOpened: true }));\r\n\t\tsetTrigger(prev => !prev);\r\n\t\treturn;\r\n\t};\r\n\r\n\treturn (\r\n\t\t<section className={classes.wrapper}>\r\n\t\t\t<HTrailEdit />\r\n\t\t\t<h2 className={classes.title}>Таблица выбора новости для редактирования</h2>\r\n\t\t\t<TableTrails trails={trails} deleteTrail={deleteTrail} />\r\n\t\t</section>\r\n\t);\r\n};\r\n\r\nexport default TrailAll;\r\n"],"names":["name","content","trails","deleteTrail","navigate","useNavigate","map","trail","index","Date","date","toLocaleDateString","className","classes","src","cardPhoto","alt","nameRoute","postedBy","username","Button","getClick","_id","additionalClasses","targetClass","useState","setTrails","trigger","setTrigger","dispatch","useDispatch","useEffect","getTrailsEdit","then","data","HTrailEdit","trailId","window","confirm","getAlert","message","type","isOpened","postDeleteTrail","status","prev"],"sourceRoot":""}