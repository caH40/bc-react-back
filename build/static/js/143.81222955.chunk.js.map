{"version":3,"file":"static/js/143.81222955.chunk.js","mappings":"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","sources":["Components/Table/Albums/TableAlbums.jsx","Pages/Admin/AlbumsEdit.jsx","webpack://client/./src/Pages/PagesCss/NewsCreate.module.css?d1ad"],"sourcesContent":["import React from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nimport Button from '../../UI/Button/Button';\r\nimport classes from '../Table.module.css';\r\n\r\nconst server = process.env.REACT_APP_SERVER_EXPRESS;\r\n\r\nconst TableAlbums = ({ albums, deleteAlbum }) => {\r\n\tconst navigate = useNavigate();\r\n\r\n\treturn (\r\n\t\t<table>\r\n\t\t\t<thead>\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t<th>#</th>\r\n\t\t\t\t\t<th>Дата</th>\r\n\t\t\t\t\t<th>Изображение</th>\r\n\t\t\t\t\t<th>Название</th>\r\n\t\t\t\t\t<th>Создатель</th>\r\n\t\t\t\t\t<th>Изменение альбома</th>\r\n\t\t\t\t\t<th>Добавление фотографий</th>\r\n\t\t\t\t\t<th>Удаление альбома</th>\r\n\t\t\t\t\t<th>Удаление фотографий</th>\r\n\t\t\t\t</tr>\r\n\t\t\t</thead>\r\n\t\t\t<tbody>\r\n\t\t\t\t{albums.map((album, index) => (\r\n\t\t\t\t\t<tr key={album._id}>\r\n\t\t\t\t\t\t<td>{index + 1}</td>\r\n\t\t\t\t\t\t<td>{new Date(album.date).toLocaleDateString()}</td>\r\n\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\tclassName={classes.td__news__image}\r\n\t\t\t\t\t\t\t\tsrc={`${server}/${album.urlCover}`}\r\n\t\t\t\t\t\t\t\talt=\"news\"\r\n\t\t\t\t\t\t\t></img>\r\n\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t<td className={classes.align__left}>{album.name}</td>\r\n\t\t\t\t\t\t<td>{album.creatorId.username}</td>\r\n\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t<Button getClick={() => navigate(album._id)} additionalClasses=\"td__link\">\r\n\t\t\t\t\t\t\t\tРедактировать\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tgetClick={() => navigate(`photos-add/${album._id}`)}\r\n\t\t\t\t\t\t\t\tadditionalClasses=\"td__link\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tДобавить\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tgetClick={() => deleteAlbum(album._id, album.name)}\r\n\t\t\t\t\t\t\t\tadditionalClasses=\"td__link warning\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tУдалить\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tgetClick={() => navigate(`photos-delete/${album._id}`)}\r\n\t\t\t\t\t\t\t\tadditionalClasses=\"td__link warning\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tУдалить\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t))}\r\n\t\t\t</tbody>\r\n\t\t</table>\r\n\t);\r\n};\r\n\r\nexport default TableAlbums;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { useNavigate, useParams } from 'react-router-dom';\r\nimport { getAlums, postDeleteAlbum } from '../../api/gallery';\r\nimport TableAlbums from '../../Components/Table/Albums/TableAlbums';\r\nimport Button from '../../Components/UI/Button/Button';\r\nimport { getAlert } from '../../redux/features/alertMessageSlice';\r\n\r\nimport classes from '../PagesCss/NewsCreate.module.css';\r\n\r\nconst AlbumsEdit = () => {\r\n\tconst [albums, setAlbums] = useState([]);\r\n\tconst [trigger, setTrigger] = useState(false);\r\n\r\n\tconst dispatch = useDispatch();\r\n\tconst { galleryId } = useParams();\r\n\tconst navigate = useNavigate();\r\n\r\n\tuseEffect(() => {\r\n\t\tgetAlums(galleryId).then(data => {\r\n\t\t\tsetAlbums(data.data.albums);\r\n\t\t});\r\n\t}, [galleryId, trigger]);\r\n\r\n\tconst getBack = () => navigate(-1);\r\n\tconst addAlbum = () => navigate(`add`);\r\n\r\n\tconst deleteAlbum = (albumId, albumName) => {\r\n\t\tconst confirm = window.confirm(`Вы действительно хотите удалить альбом \"${albumName}\"?`);\r\n\t\tif (!confirm)\r\n\t\t\treturn dispatch(\r\n\t\t\t\tgetAlert({\r\n\t\t\t\t\tmessage: `Отмена удаления альбома`,\r\n\t\t\t\t\ttype: 'warning',\r\n\t\t\t\t\tisOpened: true,\r\n\t\t\t\t})\r\n\t\t\t);\r\n\t\tpostDeleteAlbum(albumId)\r\n\t\t\t.then(data => {\r\n\t\t\t\tdispatch(getAlert({ message: data.data?.message, type: 'success', isOpened: true }));\r\n\t\t\t})\r\n\t\t\t.catch(error => {\r\n\t\t\t\tdispatch(\r\n\t\t\t\t\tgetAlert({\r\n\t\t\t\t\t\tmessage: 'Ошибка при удалении альбома на сервере!',\r\n\t\t\t\t\t\ttype: 'error',\r\n\t\t\t\t\t\tisOpened: true,\r\n\t\t\t\t\t})\r\n\t\t\t\t);\r\n\t\t\t})\r\n\t\t\t.finally(() => setTrigger(prev => !prev));\r\n\t};\r\n\r\n\treturn (\r\n\t\t<section className={classes.wrapper}>\r\n\t\t\t<h2 className={classes.title}>Редактирование альбомов</h2>\r\n\t\t\t{albums.length ? <TableAlbums albums={albums} deleteAlbum={deleteAlbum} /> : 'Loading...'}\r\n\t\t\t<div className={classes.box__buttons}>\r\n\t\t\t\t<Button getClick={getBack}>Назад</Button>\r\n\t\t\t\t<Button getClick={addAlbum}>Добавить альбом</Button>\r\n\t\t\t</div>\r\n\t\t</section>\r\n\t);\r\n};\r\n\r\nexport default AlbumsEdit;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"NewsCreate_wrapper__3beFw\",\"title\":\"NewsCreate_title__W7Lp3\",\"box__buttons\":\"NewsCreate_box__buttons__hvllH\"};"],"names":["albums","deleteAlbum","navigate","useNavigate","map","album","index","Date","date","toLocaleDateString","className","classes","src","process","urlCover","alt","name","creatorId","username","Button","getClick","_id","additionalClasses","useState","setAlbums","trigger","setTrigger","dispatch","useDispatch","galleryId","useParams","useEffect","getAlums","then","data","length","albumId","albumName","window","confirm","getAlert","message","type","isOpened","postDeleteAlbum","catch","error","finally","prev"],"sourceRoot":""}