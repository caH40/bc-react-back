{"version":3,"file":"static/js/60.d86527f0.chunk.js","mappings":"8OAmEA,EA5DsB,SAAH,GAA+B,IAAzBA,EAAK,EAALA,MAAOC,EAAU,EAAVA,WACzBC,GAAWC,EAAAA,EAAAA,MAEjB,OACC,mBAAOC,UAAWC,EAAAA,EAAAA,MAAc,WAC/B,4BACC,2BACC,wBAAI,OACJ,wBAAI,2CACJ,wBAAI,cACJ,wBAAI,WACJ,wBAAI,WACJ,wBAAI,eACJ,wBAAI,cACJ,wBAAI,eACJ,wBAAI,YACJ,wBAAI,WACJ,wBAAI,UACJ,wBAAI,UACJ,wBAAI,UACJ,wBAAI,oFACJ,wBAAI,yEAGN,2BACEL,EAAMM,KAAI,SAACC,EAAMC,GAAK,OACtB,gBAAmBJ,UAAWC,EAAAA,EAAAA,SAAiB,WAC9C,wBAAKG,EAAQ,KACb,yBAAKC,EAAAA,EAAAA,IAAWF,EAAKG,KAAM,cAC3B,wBAAKH,EAAKI,YACV,wBAAKJ,EAAKK,SACV,wBAAKL,EAAKM,SACV,wBAAKN,EAAKO,aACV,wBAAKP,EAAKQ,YACV,wBAAKR,EAAKO,aACV,wBAAKP,EAAKS,UACV,wBAAKT,EAAKU,YACV,wBAAKV,EAAKW,QACV,wBAAKX,EAAKY,QACV,wBAAKZ,EAAKa,QACV,yBACC,SAACC,EAAA,EAAM,CAACC,SAAU,kBAAMpB,EAASK,EAAKgB,IAAI,EAAEC,kBAAkB,WAAU,SAAC,sFAI1E,yBACC,SAACH,EAAA,EAAM,CACNC,SAAU,kBAAMrB,EAAWM,EAAKgB,IAAI,EACpCE,YAAY,UACZD,kBAAkB,WAAU,SAAC,mDAvBvBjB,EAAKgB,IA2BT,QAKV,E,UChEA,EAA0B,uBAA1B,EAAyD,qBCiDzD,EA1Cc,WACb,OAA0BG,EAAAA,EAAAA,UAAS,IAAG,eAA/B1B,EAAK,KAAE2B,EAAQ,KACtB,GAA8BD,EAAAA,EAAAA,WAAS,GAAM,eAAtCE,EAAO,KAAEC,EAAU,KACpBC,GAAWC,EAAAA,EAAAA,OAEjBC,EAAAA,EAAAA,YAAU,YACTC,EAAAA,EAAAA,MAAWC,MAAK,SAAAC,GAAI,OAAIR,EAASQ,EAAKA,KAAKnC,MAAM,GAClD,GAAG,CAAC4B,IA2BJ,OACC,qBAASxB,UAAWC,EAAgB,WACnC,eAAID,UAAWC,EAAc,SAAC,2LAC9B,SAAC,EAAa,CAACL,MAAOA,EAAOC,WA5BZ,SAAAmC,GAElB,OADiBC,OAAOC,QAAQ,mPAUhCC,EAAAA,EAAAA,IAAeH,GAAQF,MAAK,SAAAC,GAC3B,GAAoB,MAAhBA,EAAKK,OAKR,OAJAV,GACCW,EAAAA,EAAAA,GAAS,CAAEC,QAAS,2JAA+BC,KAAM,UAAWC,UAAU,KAE/Ef,GAAW,SAAAgB,GAAI,OAAKA,CAAI,KACjB,CAET,IACAf,GAASW,EAAAA,EAAAA,GAAS,CAAEC,QAAS,oGAA0BC,KAAM,UAAWC,UAAU,KAClFf,GAAW,SAAAgB,GAAI,OAAKA,CAAI,KACjB,GAnBCf,GACNW,EAAAA,EAAAA,GAAS,CACRC,QAAS,kNACTC,KAAM,UACNC,UAAU,IAgBd,MAQD,C","sources":["Components/Table/Users/TableUserEdit.jsx","webpack://client/./src/Pages/PagesCss/Users.module.css?246e","Pages/Admin/Users.jsx"],"sourcesContent":["import React from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { formatDate } from '../../../utils/date';\r\n\r\nimport Button from '../../UI/Button/Button';\r\nimport classes from '../Table.module.css';\r\n\r\nconst TableUserEdit = ({ users, deleteUser }) => {\r\n\tconst navigate = useNavigate();\r\n\r\n\treturn (\r\n\t\t<table className={classes.table}>\r\n\t\t\t<thead>\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t<th>#</th>\r\n\t\t\t\t\t<th>Регист.</th>\r\n\t\t\t\t\t<th>username</th>\r\n\t\t\t\t\t<th>email</th>\r\n\t\t\t\t\t<th>phone</th>\r\n\t\t\t\t\t<th>firstName</th>\r\n\t\t\t\t\t<th>lastName</th>\r\n\t\t\t\t\t<th>firstName</th>\r\n\t\t\t\t\t<th>gender</th>\r\n\t\t\t\t\t<th>birth</th>\r\n\t\t\t\t\t<th>city</th>\r\n\t\t\t\t\t<th>team</th>\r\n\t\t\t\t\t<th>role</th>\r\n\t\t\t\t\t<th>Редактировать</th>\r\n\t\t\t\t\t<th>Удалить акк.</th>\r\n\t\t\t\t</tr>\r\n\t\t\t</thead>\r\n\t\t\t<tbody>\r\n\t\t\t\t{users.map((user, index) => (\r\n\t\t\t\t\t<tr key={user._id} className={classes.text__13}>\r\n\t\t\t\t\t\t<td>{index + 1}</td>\r\n\t\t\t\t\t\t<td>{formatDate(user.date, '2-digit')}</td>\r\n\t\t\t\t\t\t<td>{user.username}</td>\r\n\t\t\t\t\t\t<td>{user.email}</td>\r\n\t\t\t\t\t\t<td>{user.phone}</td>\r\n\t\t\t\t\t\t<td>{user.firstName}</td>\r\n\t\t\t\t\t\t<td>{user.lastName}</td>\r\n\t\t\t\t\t\t<td>{user.firstName}</td>\r\n\t\t\t\t\t\t<td>{user.gender}</td>\r\n\t\t\t\t\t\t<td>{user.birthday}</td>\r\n\t\t\t\t\t\t<td>{user.city}</td>\r\n\t\t\t\t\t\t<td>{user.team}</td>\r\n\t\t\t\t\t\t<td>{user.role}</td>\r\n\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t<Button getClick={() => navigate(user._id)} additionalClasses=\"td__link\">\r\n\t\t\t\t\t\t\t\tРедактировать\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tgetClick={() => deleteUser(user._id)}\r\n\t\t\t\t\t\t\t\ttargetClass=\"warning\"\r\n\t\t\t\t\t\t\t\tadditionalClasses=\"td__link\">\r\n\t\t\t\t\t\t\t\tУдалить\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t))}\r\n\t\t\t</tbody>\r\n\t\t</table>\r\n\t);\r\n};\r\n\r\nexport default TableUserEdit;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"Users_wrapper__ANvpy\",\"title\":\"Users_title__Y+A9G\"};","import React, { useEffect, useState } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { getUsers, postDeleteUser } from '../../api/user';\r\nimport TableUserEdit from '../../Components/Table/Users/TableUserEdit';\r\nimport { getAlert } from '../../redux/features/alertMessageSlice';\r\n\r\nimport classes from '../PagesCss/Users.module.css';\r\n\r\nconst Users = () => {\r\n\tconst [users, setUsers] = useState([]);\r\n\tconst [trigger, setTrigger] = useState(false);\r\n\tconst dispatch = useDispatch();\r\n\r\n\tuseEffect(() => {\r\n\t\tgetUsers().then(data => setUsers(data.data.users));\r\n\t}, [trigger]);\r\n\r\n\tconst deleteUser = userId => {\r\n\t\tconst response = window.confirm('Подтвердите удаление аккаунта пользователя');\r\n\t\tif (!response)\r\n\t\t\treturn dispatch(\r\n\t\t\t\tgetAlert({\r\n\t\t\t\t\tmessage: 'Отмена удаления аккаунта пользователя',\r\n\t\t\t\t\ttype: 'warning',\r\n\t\t\t\t\tisOpened: true,\r\n\t\t\t\t})\r\n\t\t\t);\r\n\r\n\t\tpostDeleteUser(userId).then(data => {\r\n\t\t\tif (data.status === 200) {\r\n\t\t\t\tdispatch(\r\n\t\t\t\t\tgetAlert({ message: 'Аккаунт пользователя удалён', type: 'success', isOpened: true })\r\n\t\t\t\t);\r\n\t\t\t\tsetTrigger(prev => !prev);\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t});\r\n\t\tdispatch(getAlert({ message: 'Что то пошло не так...', type: 'warning', isOpened: true }));\r\n\t\tsetTrigger(prev => !prev);\r\n\t\treturn true;\r\n\t};\r\n\r\n\treturn (\r\n\t\t<section className={classes.wrapper}>\r\n\t\t\t<h2 className={classes.title}>Зарегистрированные пользователи</h2>\r\n\t\t\t<TableUserEdit users={users} deleteUser={deleteUser} />\r\n\t\t</section>\r\n\t);\r\n};\r\n\r\nexport default Users;\r\n"],"names":["users","deleteUser","navigate","useNavigate","className","classes","map","user","index","formatDate","date","username","email","phone","firstName","lastName","gender","birthday","city","team","role","Button","getClick","_id","additionalClasses","targetClass","useState","setUsers","trigger","setTrigger","dispatch","useDispatch","useEffect","getUsers","then","data","userId","window","confirm","postDeleteUser","status","getAlert","message","type","isOpened","prev"],"sourceRoot":""}