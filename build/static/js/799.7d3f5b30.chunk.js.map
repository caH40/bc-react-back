{"version":3,"file":"static/js/799.7d3f5b30.chunk.js","mappings":"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","sources":["webpack://client/./src/Components/ImagesURLBox/ImagesURLBox.module.css?5ea7","Components/ImagesURLBox/ImagesURLBox.jsx","webpack://client/./src/Components/UI/InputFileReduceBox/InputFileReduceBox.module.css?4647","Components/UI/InputFileReduceBox/InputFileReduceBox.jsx","webpack://client/./src/Components/UI/FormAlbumPhotosAdd/FormAlbumPhotosAdd.module.css?eba0","Components/UI/FormAlbumPhotosAdd/FormAlbumPhotosAdd.jsx","Pages/Admin/AlbumAddPhotos.jsx","webpack://client/./src/Pages/PagesCss/NewsCreate.module.css?d1ad"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"block__picture\":\"ImagesURLBox_block__picture__sKz5H\",\"box__img\":\"ImagesURLBox_box__img__sxZ6w\",\"img__info\":\"ImagesURLBox_img__info__qUI+W\",\"cross__info\":\"ImagesURLBox_cross__info__Gd8K9\",\"img\":\"ImagesURLBox_img__iB-BE\"};","import React from 'react';\r\nimport ButtonClose from '../UI/ButtonClose/ButtonClose';\r\n\r\nimport classes from './ImagesURLBox.module.css';\r\n\r\nconst ImagesURLBox = ({ form, setForm, boxStyle, keyObject }) => {\r\n\tconst closeImage = name => {\r\n\t\tsetForm(prev => ({\r\n\t\t\t...prev,\r\n\t\t\t[keyObject]: prev[keyObject].filter(photo => photo.name !== name),\r\n\t\t}));\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className={classes.block__picture}>\r\n\t\t\t{form[keyObject]?.length\r\n\t\t\t\t? form[keyObject].map((photo, index) => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<div className={classes.box__img} style={boxStyle} key={index + photo.name}>\r\n\t\t\t\t\t\t\t\t<img className={classes.img} src={photo.source} alt=\"news\" />\r\n\t\t\t\t\t\t\t\t<div className={classes.img__info}>\r\n\t\t\t\t\t\t\t\t\t<span>{photo.name}</span>\r\n\t\t\t\t\t\t\t\t\t<span>{photo.size}kB</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className={classes.cross__info}>\r\n\t\t\t\t\t\t\t\t\t<ButtonClose getClick={() => closeImage(photo.name)} />\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t  })\r\n\t\t\t\t: undefined}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default ImagesURLBox;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"box__input\":\"InputFileReduceBox_box__input__FtlmK\",\"box__title\":\"InputFileReduceBox_box__title__J8EtK\"};","import React from 'react';\r\nimport ButtonInput from '../ButtonInput/ButtonInput';\r\n\r\nimport classes from './InputFileReduceBox.module.css';\r\n\r\nconst InputFileReduceBox = ({ setForm, setPictureSource, title, multiple }) => {\r\n\tconst getPicture = event => {\r\n\t\tif (multiple) {\r\n\t\t\tconst files = event.target.files;\r\n\r\n\t\t\tfor (let file of files) {\r\n\t\t\t\tconst size = Math.trunc(file.size / 8000);\r\n\r\n\t\t\t\tconst reader = new FileReader();\r\n\t\t\t\treader.readAsDataURL(file);\r\n\r\n\t\t\t\treader.onload = async () => {\r\n\t\t\t\t\tsetForm(prev => ({\r\n\t\t\t\t\t\t...prev,\r\n\t\t\t\t\t\tsources: [...prev.sources, { source: reader.result, name: file.name, size }],\r\n\t\t\t\t\t}));\r\n\t\t\t\t};\r\n\t\t\t}\r\n\r\n\t\t\t// setForm(prev => ({\r\n\t\t\t// \t...prev,\r\n\t\t\t// \tsources: [...prev.sources, { source: reader.result, name: file.name, size }],\r\n\t\t\t// }));\r\n\t\t} else {\r\n\t\t\tconst file = event.target.files[0];\r\n\t\t\tconst size = Math.trunc(file.size / 8000);\r\n\r\n\t\t\tconst reader = new FileReader();\r\n\t\t\treader.readAsDataURL(file);\r\n\r\n\t\t\treader.onload = async () => {\r\n\t\t\t\tsetPictureSource({ source: reader.result, name: file.name, size });\r\n\t\t\t\tsetForm(prev => ({ ...prev, base64Image: reader.result }));\r\n\t\t\t};\r\n\t\t}\r\n\t};\r\n\treturn (\r\n\t\t<div className={classes.box__input}>\r\n\t\t\t<h2 className={classes.box__title}>{title}</h2>\r\n\t\t\t<ButtonInput getClick={getPicture} multiple={multiple}>\r\n\t\t\t\tВыбрать файл\r\n\t\t\t</ButtonInput>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default InputFileReduceBox;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"inner__picture\":\"FormAlbumPhotosAdd_inner__picture__nNFo9\",\"input\":\"FormAlbumPhotosAdd_input__Igs1-\"};","import React, { useState } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nimport { getAlert } from '../../../redux/features/alertMessageSlice';\r\nimport ButtonSendBox from '../ButtonSendBox/ButtonSendBox';\r\nimport InputBox from '../InputBox/InputBox';\r\n\r\nimport classes from './FormAlbumPhotosAdd.module.css';\r\nimport { postPhotos } from '../../../api/gallery';\r\nimport InputFileReduceBox from '../InputFileReduceBox/InputFileReduceBox';\r\nimport ImagesURLBox from '../../ImagesURLBox/ImagesURLBox';\r\n\r\nconst FormAlbumPhotosAdd = ({ galleryId, albumId }) => {\r\n\tconst [form, setForm] = useState({ galleryId, albumId, sources: [] });\r\n\r\n\tconst dispatch = useDispatch();\r\n\tconst navigate = useNavigate();\r\n\r\n\tconst sendForm = event => {\r\n\t\tevent.preventDefault();\r\n\r\n\t\tif (!form.sources.length) {\r\n\t\t\treturn dispatch(\r\n\t\t\t\tgetAlert({ message: 'Не все поля заполнены!', type: 'warning', isOpened: true })\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\tpostPhotos(form)\r\n\t\t\t.then(data => {\r\n\t\t\t\tif (data?.status === 200) {\r\n\t\t\t\t\tdispatch(getAlert({ message: data.data.message, type: 'success', isOpened: true }));\r\n\t\t\t\t}\r\n\t\t\t\tnavigate('/admin/gallery/edit');\r\n\t\t\t})\r\n\t\t\t.catch(error => {\r\n\t\t\t\tdispatch(getAlert({ message: error.response.data.message, type: 'error', isOpened: true }));\r\n\t\t\t})\r\n\t\t\t.finally(() => {\r\n\t\t\t\tsetForm({ sources: [] });\r\n\t\t\t});\r\n\t};\r\n\r\n\treturn (\r\n\t\t<form className={classes.form}>\r\n\t\t\t<div className={classes.inner__picture}>\r\n\t\t\t\t<div className={classes.block__picture}>\r\n\t\t\t\t\t<InputBox\r\n\t\t\t\t\t\tform={form}\r\n\t\t\t\t\t\tkeyObject=\"galleryId\"\r\n\t\t\t\t\t\tsetForm={setForm}\r\n\t\t\t\t\t\ttitle=\"ID галереи:\"\r\n\t\t\t\t\t\tdisabled={true}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<InputBox\r\n\t\t\t\t\t\tform={form}\r\n\t\t\t\t\t\tkeyObject=\"albumId\"\r\n\t\t\t\t\t\tsetForm={setForm}\r\n\t\t\t\t\t\ttitle=\"ID альбома:\"\r\n\t\t\t\t\t\tdisabled={true}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<InputBox\r\n\t\t\t\t\t\tform={form}\r\n\t\t\t\t\t\tkeyObject=\"authorPhoto\"\r\n\t\t\t\t\t\tsetForm={setForm}\r\n\t\t\t\t\t\ttitle=\"Автор фотографии:\"\r\n\t\t\t\t\t\tdisabled={true}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<InputBox\r\n\t\t\t\t\t\tform={form}\r\n\t\t\t\t\t\tkeyObject=\"urlAuthorPhoto\"\r\n\t\t\t\t\t\tsetForm={setForm}\r\n\t\t\t\t\t\ttitle=\"Ссылка на сайт автора фотографии:\"\r\n\t\t\t\t\t\tdisabled={true}\r\n\t\t\t\t\t\tmultiple={true}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<InputFileReduceBox\r\n\t\t\t\t\t\tsetForm={setForm}\r\n\t\t\t\t\t\t// setPictureSource={setPictureSource}\r\n\t\t\t\t\t\ttitle=\"Загрузка фотографий для альбома:\"\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tmultiple={true}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<ImagesURLBox form={form} setForm={setForm} keyObject=\"sources\" />\r\n\t\t\t</div>\r\n\t\t\t<ButtonSendBox sendForm={sendForm} title=\"Сохранение галереи на сервере!\" />\r\n\t\t</form>\r\n\t);\r\n};\r\n\r\nexport default FormAlbumPhotosAdd;\r\n","import React from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport FormAlbumPhotosAdd from '../../Components/UI/FormAlbumPhotosAdd/FormAlbumPhotosAdd';\r\n\r\nimport classes from '../PagesCss/NewsCreate.module.css';\r\n\r\nconst AlbumAddPhotos = () => {\r\n\tconst { galleryId, albumId } = useParams();\r\n\r\n\treturn (\r\n\t\t<section className={classes.wrapper}>\r\n\t\t\t<h2 className={classes.title}>Добавление фотографий в альбом</h2>\r\n\t\t\t<FormAlbumPhotosAdd galleryId={galleryId} albumId={albumId} />\r\n\t\t</section>\r\n\t);\r\n};\r\n\r\nexport default AlbumAddPhotos;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"NewsCreate_wrapper__3beFw\",\"title\":\"NewsCreate_title__W7Lp3\",\"box__buttons\":\"NewsCreate_box__buttons__hvllH\"};"],"names":["form","setForm","boxStyle","keyObject","className","classes","length","map","photo","index","style","src","source","alt","name","size","ButtonClose","getClick","prev","filter","undefined","setPictureSource","title","multiple","ButtonInput","event","files","target","file","Math","trunc","reader","FileReader","readAsDataURL","onload","sources","result","base64Image","galleryId","albumId","useState","dispatch","useDispatch","navigate","useNavigate","InputBox","disabled","InputFileReduceBox","type","ImagesURLBox","ButtonSendBox","sendForm","preventDefault","getAlert","message","isOpened","postPhotos","then","data","status","catch","error","response","finally","useParams"],"sourceRoot":""}