"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[799],{6244:function(e,t,s){s.d(t,{Z:function(){return m}});var r=s(4942),n=s(1413),a=(s(2791),s(9442)),i="ImagesURLBox_block__picture__sKz5H",l="ImagesURLBox_box__img__sxZ6w",c="ImagesURLBox_img__info__qUI+W",o="ImagesURLBox_cross__info__Gd8K9",u="ImagesURLBox_img__iB-BE",d=s(184),m=function(e){var t,s=e.form,m=e.setForm,_=e.boxStyle,f=e.keyObject;return(0,d.jsx)("div",{className:i,children:null!==(t=s[f])&&void 0!==t&&t.length?s[f].map((function(e,t){return(0,d.jsxs)("div",{className:l,style:_,children:[(0,d.jsx)("img",{className:u,src:e.source,alt:"news"}),(0,d.jsxs)("div",{className:c,children:[(0,d.jsx)("span",{children:e.name}),(0,d.jsxs)("span",{children:[e.size,"kB"]})]}),(0,d.jsx)("div",{className:o,children:(0,d.jsx)(a.Z,{getClick:function(){return t=e.name,void m((function(e){return(0,n.Z)((0,n.Z)({},e),{},(0,r.Z)({},f,e[f].filter((function(e){return e.name!==t}))))}));var t}})})]},t+e.name)})):void 0})}},4567:function(e,t,s){s.d(t,{Z:function(){return m}});var r=s(4165),n=s(3433),a=s(1413),i=s(5861),l=s(7762),c=(s(2791),s(6369)),o="InputFileReduceBox_box__input__FtlmK",u="InputFileReduceBox_box__title__J8EtK",d=s(184),m=function(e){var t=e.setForm,s=e.setPictureSource,m=e.title,_=e.multiple;return(0,d.jsxs)("div",{className:o,children:[(0,d.jsx)("h2",{className:u,children:m}),(0,d.jsx)(c.Z,{getClick:function(e){if(_){var c,o=e.target.files,u=(0,l.Z)(o);try{var d=function(){var e=c.value,s=Math.trunc(e.size/8e3),l=new FileReader;l.readAsDataURL(e),l.onload=(0,i.Z)((0,r.Z)().mark((function i(){return(0,r.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:t((function(t){return(0,a.Z)((0,a.Z)({},t),{},{sources:[].concat((0,n.Z)(t.sources),[{source:l.result,name:e.name,size:s}])})}));case 1:case"end":return r.stop()}}),i)})))};for(u.s();!(c=u.n()).done;)d()}catch(x){u.e(x)}finally{u.f()}}else{var m=e.target.files[0],f=Math.trunc(m.size/8e3),p=new FileReader;p.readAsDataURL(m),p.onload=(0,i.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s({source:p.result,name:m.name,size:f}),t((function(e){return(0,a.Z)((0,a.Z)({},e),{},{base64Image:p.result})}));case 2:case"end":return e.stop()}}),e)})))}},multiple:_,children:"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0444\u0430\u0439\u043b"})]})}},2799:function(e,t,s){s.r(t),s.d(t,{default:function(){return h}});var r=s(2791),n=s(7689),a=s(9439),i=s(9434),l=s(1882),c=s(7023),o=s(6750),u={inner__picture:"FormAlbumPhotosAdd_inner__picture__nNFo9",input:"FormAlbumPhotosAdd_input__Igs1-"},d=s(2072),m=s(4567),_=s(6244),f=s(184),p=function(e){var t=e.galleryId,s=e.albumId,p=(0,r.useState)({galleryId:t,albumId:s,sources:[]}),x=(0,a.Z)(p,2),h=x[0],b=x[1],j=(0,i.I0)(),Z=(0,n.s0)();return(0,f.jsxs)("form",{className:u.form,children:[(0,f.jsxs)("div",{className:u.inner__picture,children:[(0,f.jsxs)("div",{className:u.block__picture,children:[(0,f.jsx)(o.Z,{form:h,keyObject:"galleryId",setForm:b,title:"ID \u0433\u0430\u043b\u0435\u0440\u0435\u0438:",disabled:!0}),(0,f.jsx)(o.Z,{form:h,keyObject:"albumId",setForm:b,title:"ID \u0430\u043b\u044c\u0431\u043e\u043c\u0430:",disabled:!0}),(0,f.jsx)(o.Z,{form:h,keyObject:"authorPhoto",setForm:b,title:"\u0410\u0432\u0442\u043e\u0440 \u0444\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u0438:",disabled:!0}),(0,f.jsx)(o.Z,{form:h,keyObject:"urlAuthorPhoto",setForm:b,title:"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u0441\u0430\u0439\u0442 \u0430\u0432\u0442\u043e\u0440\u0430 \u0444\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u0438:",disabled:!0,multiple:!0}),(0,f.jsx)(m.Z,{setForm:b,title:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0444\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u0439 \u0434\u043b\u044f \u0430\u043b\u044c\u0431\u043e\u043c\u0430:",type:"text",multiple:!0})]}),(0,f.jsx)(_.Z,{form:h,setForm:b,keyObject:"sources"})]}),(0,f.jsx)(c.Z,{sendForm:function(e){if(e.preventDefault(),!h.sources.length)return j((0,l.u)({message:"\u041d\u0435 \u0432\u0441\u0435 \u043f\u043e\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u044b!",type:"warning",isOpened:!0}));(0,d.jk)(h).then((function(e){200===(null===e||void 0===e?void 0:e.status)&&j((0,l.u)({message:e.data.message,type:"success",isOpened:!0})),Z("/admin/gallery/edit")})).catch((function(e){j((0,l.u)({message:e.response.data.message,type:"error",isOpened:!0}))})).finally((function(){b({sources:[]})}))},title:"\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435 \u0433\u0430\u043b\u0435\u0440\u0435\u0438 \u043d\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0435!"})]})},x=s(6626),h=function(){var e=(0,n.UO)(),t=e.galleryId,s=e.albumId;return(0,f.jsxs)("section",{className:x.Z.wrapper,children:[(0,f.jsx)("h2",{className:x.Z.title,children:"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0444\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u0439 \u0432 \u0430\u043b\u044c\u0431\u043e\u043c"}),(0,f.jsx)(p,{galleryId:t,albumId:s})]})}},6626:function(e,t){t.Z={wrapper:"NewsCreate_wrapper__3beFw",title:"NewsCreate_title__W7Lp3",box__buttons:"NewsCreate_box__buttons__hvllH"}}}]);
//# sourceMappingURL=799.7d3f5b30.chunk.js.map