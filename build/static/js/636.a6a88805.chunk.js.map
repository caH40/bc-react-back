{"version":3,"file":"static/js/636.a6a88805.chunk.js","mappings":"oIAWA,IARkB,WACjB,OACC,SAAC,KAAM,WACN,iBAAMA,KAAK,SAASC,QAAQ,kCAG/B,C,iKCkDA,EAnDkB,SAAH,GAA8B,IAAxBC,EAAI,EAAJA,KAAMC,EAAU,EAAVA,WACpBC,GAAWC,EAAAA,EAAAA,MAEjB,OACC,8BACC,4BACC,2BACC,wBAAI,OACJ,wBAAI,8BACJ,wBAAI,wEACJ,wBAAI,sDACJ,wBAAI,4DACJ,wBAAI,oFACJ,wBAAI,2DAGN,2BACEH,EAAKI,KAAI,SAACC,EAASC,GAAK,OACxB,2BACC,wBAAKA,EAAQ,KACb,wBAAK,IAAIC,KAAKF,EAAQG,MAAMC,wBAC5B,yBACC,gBACCC,UAAWC,EAAAA,EAAAA,gBACXC,IAAG,UA1BIC,2BA0BO,YAAIR,EAAQS,OAC1BC,IAAI,YAGN,eAAIL,UAAWC,EAAAA,EAAAA,YAAoB,SAAEN,EAAQW,aAC7C,wBAAKX,EAAQY,SAASC,YACtB,yBACC,SAACC,EAAA,EAAM,CAACC,SAAU,kBAAMlB,EAASG,EAAQgB,IAAI,EAAEC,kBAAkB,WAAU,SAAC,sFAI7E,yBACC,SAACH,EAAA,EAAM,CACNC,SAAU,kBAAMnB,EAAWI,EAAQgB,IAAI,EACvCE,YAAY,UACZD,kBAAkB,WAAU,SAC5B,mDAtBMjB,EAAQgB,IA0BZ,QAKV,E,UCxDA,EAA0B,yBAA1B,EAA2D,uBCgD3D,EAxCgB,WACf,OAAwBG,EAAAA,EAAAA,UAAS,IAAG,eAA7BxB,EAAI,KAAEyB,EAAO,KACpB,GAA8BD,EAAAA,EAAAA,WAAS,GAAM,eAAtCE,EAAO,KAAEC,EAAU,KAEpBC,GAAWC,EAAAA,EAAAA,OAEjBC,EAAAA,EAAAA,YAAU,YACTC,EAAAA,EAAAA,MAAcC,MAAK,SAAAC,GAClBR,EAAQQ,EACT,GACD,GAAG,CAACP,IAqBJ,OACC,qBAAShB,UAAWC,EAAgB,WACnC,SAACuB,EAAA,EAAS,KACV,eAAIxB,UAAWC,EAAc,SAAC,wOAC9B,SAAC,EAAS,CAACX,KAAMA,EAAMC,WAvBN,SAAAkC,GAElB,IADiBC,OAAOC,QAAQ,kKAE/B,OAAOT,GACNU,EAAAA,EAAAA,GAAS,CAAEC,QAAS,mIAA2BC,KAAM,UAAWC,UAAU,MAG5EC,EAAAA,EAAAA,IAAeP,GAAQH,MAAK,SAAAC,GAC3B,GAAoB,MAAhBA,EAAKU,OAGR,OAFAf,GAASU,EAAAA,EAAAA,GAAS,CAAEC,QAAS,wFAAmBC,KAAM,UAAWC,UAAU,UAC3Ed,GAAW,SAAAiB,GAAI,OAAKA,CAAI,GAG1B,IACAhB,GAASU,EAAAA,EAAAA,GAAS,CAAEC,QAAS,oGAA0BC,KAAM,UAAWC,UAAU,KAClFd,GAAW,SAAAiB,GAAI,OAAKA,CAAI,GAEzB,MASD,C","sources":["Components/Helmets/HNewsEdit.jsx","Components/Table/News/TableNews.jsx","webpack://client/./src/Pages/PagesCss/NewsAll.module.css?b165","Pages/Admin/NewsAll.jsx"],"sourcesContent":["import React from 'react';\r\nimport { Helmet } from 'react-helmet-async';\r\n\r\nconst HNewsEdit = () => {\r\n\treturn (\r\n\t\t<Helmet>\r\n\t\t\t<meta name=\"robots\" content=\"noindex, nofollow, noarchive\" />\r\n\t\t</Helmet>\r\n\t);\r\n};\r\n\r\nexport default HNewsEdit;\r\n","import React from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nimport Button from '../../UI/Button/Button';\r\nimport classes from '../Table.module.css';\r\n\r\nconst server = process.env.REACT_APP_SERVER_EXPRESS;\r\n\r\nconst TableNews = ({ news, deleteNews }) => {\r\n\tconst navigate = useNavigate();\r\n\r\n\treturn (\r\n\t\t<table>\r\n\t\t\t<thead>\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t<th>#</th>\r\n\t\t\t\t\t<th>Дата</th>\r\n\t\t\t\t\t<th>Изображение</th>\r\n\t\t\t\t\t<th>Название</th>\r\n\t\t\t\t\t<th>Создатель</th>\r\n\t\t\t\t\t<th>Редактировать</th>\r\n\t\t\t\t\t<th>Удаление</th>\r\n\t\t\t\t</tr>\r\n\t\t\t</thead>\r\n\t\t\t<tbody>\r\n\t\t\t\t{news.map((newsOne, index) => (\r\n\t\t\t\t\t<tr key={newsOne._id}>\r\n\t\t\t\t\t\t<td>{index + 1}</td>\r\n\t\t\t\t\t\t<td>{new Date(newsOne.date).toLocaleDateString()}</td>\r\n\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\tclassName={classes.td__news__image}\r\n\t\t\t\t\t\t\t\tsrc={`${server}/${newsOne.image}`}\r\n\t\t\t\t\t\t\t\talt=\"news\"\r\n\t\t\t\t\t\t\t></img>\r\n\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t<td className={classes.align__left}>{newsOne.newsTitle}</td>\r\n\t\t\t\t\t\t<td>{newsOne.postedBy.username}</td>\r\n\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t<Button getClick={() => navigate(newsOne._id)} additionalClasses=\"td__link\">\r\n\t\t\t\t\t\t\t\tРедактировать\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tgetClick={() => deleteNews(newsOne._id)}\r\n\t\t\t\t\t\t\t\ttargetClass=\"warning\"\r\n\t\t\t\t\t\t\t\tadditionalClasses=\"td__link\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tУдалить\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t))}\r\n\t\t\t</tbody>\r\n\t\t</table>\r\n\t);\r\n};\r\n\r\nexport default TableNews;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"NewsAll_wrapper__R-DSu\",\"title\":\"NewsAll_title__N0vTY\"};","import React, { useEffect, useState } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { getNewsEdit, postDeleteNews } from '../../api/news';\r\nimport HNewsEdit from '../../Components/Helmets/HNewsEdit';\r\nimport TableNews from '../../Components/Table/News/TableNews';\r\nimport { getAlert } from '../../redux/features/alertMessageSlice';\r\n\r\nimport classes from '../PagesCss/NewsAll.module.css';\r\n\r\nconst NewsAll = () => {\r\n\tconst [news, setNews] = useState([]);\r\n\tconst [trigger, setTrigger] = useState(false);\r\n\r\n\tconst dispatch = useDispatch();\r\n\r\n\tuseEffect(() => {\r\n\t\tgetNewsEdit().then(data => {\r\n\t\t\tsetNews(data);\r\n\t\t});\r\n\t}, [trigger]);\r\n\r\n\tconst deleteNews = newsId => {\r\n\t\tconst response = window.confirm('Подтвердите удаление новости');\r\n\t\tif (!response) {\r\n\t\t\treturn dispatch(\r\n\t\t\t\tgetAlert({ message: 'Отмена удаления новости', type: 'warning', isOpened: true })\r\n\t\t\t);\r\n\t\t}\r\n\t\tpostDeleteNews(newsId).then(data => {\r\n\t\t\tif (data.status === 200) {\r\n\t\t\t\tdispatch(getAlert({ message: 'Новость удалена', type: 'success', isOpened: true }));\r\n\t\t\t\tsetTrigger(prev => !prev);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t});\r\n\t\tdispatch(getAlert({ message: 'Что то пошло не так...', type: 'warning', isOpened: true }));\r\n\t\tsetTrigger(prev => !prev);\r\n\t\treturn;\r\n\t};\r\n\r\n\treturn (\r\n\t\t<section className={classes.wrapper}>\r\n\t\t\t<HNewsEdit />\r\n\t\t\t<h2 className={classes.title}>Таблица выбора новости для редактирования</h2>\r\n\t\t\t<TableNews news={news} deleteNews={deleteNews} />\r\n\t\t</section>\r\n\t);\r\n};\r\n\r\nexport default NewsAll;\r\n"],"names":["name","content","news","deleteNews","navigate","useNavigate","map","newsOne","index","Date","date","toLocaleDateString","className","classes","src","process","image","alt","newsTitle","postedBy","username","Button","getClick","_id","additionalClasses","targetClass","useState","setNews","trigger","setTrigger","dispatch","useDispatch","useEffect","getNewsEdit","then","data","HNewsEdit","newsId","window","confirm","getAlert","message","type","isOpened","postDeleteNews","status","prev"],"sourceRoot":""}