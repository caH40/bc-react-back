{"version":3,"file":"static/js/104.c59acb39.chunk.js","mappings":"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","sources":["Components/Helmets/HNewsEdit.jsx","webpack://client/./src/Components/ImageBox/ImageBox.module.css?e088","Components/ImageBox/ImageBox.jsx","webpack://client/./src/Components/UI/InputFileBox/InputFileBox.module.css?25c0","Components/UI/InputFileBox/InputFileBox.jsx","webpack://client/./src/Components/UI/FormNewsEdit/FormNewsEdit.module.css?3b34","Components/UI/FormNewsEdit/FormNewsEdit.jsx","Components/UI/FormNewsEdit/service.js","webpack://client/./src/Components/UI/TextArea/TextArea.module.css?e782","Components/UI/TextArea/TextArea.jsx","webpack://client/./src/Pages/PagesCss/NewsEdit.module.css?0fc0","Pages/Admin/NewsEdit.jsx"],"sourcesContent":["import React from 'react';\r\nimport { Helmet } from 'react-helmet-async';\r\n\r\nconst HNewsEdit = () => {\r\n\treturn (\r\n\t\t<Helmet>\r\n\t\t\t<meta name=\"robots\" content=\"noindex, nofollow, noarchive\" />\r\n\t\t</Helmet>\r\n\t);\r\n};\r\n\r\nexport default HNewsEdit;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"box__img\":\"ImageBox_box__img__760hb\",\"img__info\":\"ImageBox_img__info__QIBMJ\",\"cross__info\":\"ImageBox_cross__info__5W7sl\",\"img\":\"ImageBox_img__pZi5v\"};","import React from 'react';\r\nimport ButtonClose from '../UI/ButtonClose/ButtonClose';\r\n\r\nimport classes from './ImageBox.module.css';\r\nconst server = process.env.REACT_APP_SERVER_EXPRESS;\r\n\r\nconst ImageBox = ({ pictureUrl, pictureSource, setPictureSource }) => {\r\n\tconst closeImage = () => {\r\n\t\tsetPictureSource({});\r\n\t\tpictureUrl.current = '';\r\n\t};\r\n\r\n\tconst picture = pictureUrl?.current ? `${server}/${pictureUrl.current}` : pictureSource.source;\r\n\r\n\treturn (\r\n\t\t<div className={classes.block__picture}>\r\n\t\t\t{picture ? (\r\n\t\t\t\t<div className={classes.box__img}>\r\n\t\t\t\t\t<img className={classes.img} src={picture} alt=\"news\" />\r\n\t\t\t\t\t<div className={classes.img__info}>\r\n\t\t\t\t\t\t<span>{pictureSource.name}</span>\r\n\t\t\t\t\t\t<span>{pictureSource.size}kB</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className={classes.cross__info}>\r\n\t\t\t\t\t\t<ButtonClose getClick={closeImage} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t) : undefined}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default ImageBox;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"box__input\":\"InputFileBox_box__input__zVmVg\",\"box__title\":\"InputFileBox_box__title__Y5cCJ\"};","import React from 'react';\r\nimport ButtonInput from '../ButtonInput/ButtonInput';\r\n\r\nimport classes from './InputFileBox.module.css';\r\n\r\nconst InputFileBox = ({ setForm, pictureUrl, setPictureSource, title }) => {\r\n\tconst getPicture = event => {\r\n\t\tconst file = event.target.files[0];\r\n\t\tconst size = Math.trunc(file.size / 8000);\r\n\r\n\t\tconst reader = new FileReader();\r\n\t\treader.readAsDataURL(file);\r\n\r\n\t\treader.onload = async () => {\r\n\t\t\tpictureUrl.current = '';\r\n\t\t\tsetPictureSource({ source: reader.result, name: file.name, size });\r\n\t\t};\r\n\r\n\t\tsetForm(prev => ({ ...prev, source: file }));\r\n\t};\r\n\treturn (\r\n\t\t<div className={classes.box__input}>\r\n\t\t\t<h2 className={classes.box__title}>{title}</h2>\r\n\t\t\t<ButtonInput getClick={getPicture}>Выбрать файл</ButtonInput>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default InputFileBox;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"inner__picture\":\"FormNewsEdit_inner__picture__f6yrM\",\"input\":\"FormNewsEdit_input__pKOyG\"};","import React, { useRef, useState } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nimport { postNews } from '../../../api/news';\r\nimport { getAlert } from '../../../redux/features/alertMessageSlice';\r\nimport ImageBox from '../../ImageBox/ImageBox';\r\nimport ButtonSendBox from '../ButtonSendBox/ButtonSendBox';\r\nimport InputBox from '../InputBox/InputBox';\r\nimport InputFileBox from '../InputFileBox/InputFileBox';\r\nimport TextArea from '../TextArea/TextArea';\r\nimport { createFormData } from './service';\r\n\r\nimport classes from './FormNewsEdit.module.css';\r\n\r\nconst FormNewsEdit = ({ newsOne, type }) => {\r\n\tconst [form, setForm] = useState(() => ({\r\n\t\ttitle: newsOne?.newsTitle ?? '',\r\n\t\ttextBody: newsOne?.newsText ?? '',\r\n\t\timage: newsOne?.image ?? '',\r\n\t\tnewsId: newsOne?._id ?? '',\r\n\t}));\r\n\tconst [pictureSource, setPictureSource] = useState({});\r\n\tconst pictureUrl = useRef(newsOne?.image ?? '');\r\n\r\n\tconst dispatch = useDispatch();\r\n\tconst navigate = useNavigate();\r\n\r\n\tconst sendForm = event => {\r\n\t\tevent.preventDefault();\r\n\t\tconst isCompleteSource = form.source || pictureUrl.current ? true : false;\r\n\t\tif (!isCompleteSource || !form.textBody || !form.title) {\r\n\t\t\treturn dispatch(\r\n\t\t\t\tgetAlert({ message: 'Не все поля заполнены!', type: 'warning', isOpened: true })\r\n\t\t\t);\r\n\t\t}\r\n\t\tconst formData = createFormData(form, type);\r\n\t\tpostNews(formData)\r\n\t\t\t.then(data => {\r\n\t\t\t\tif (data?.status === 200) {\r\n\t\t\t\t\tdispatch(getAlert({ message: data.data.message, type: 'success', isOpened: true }));\r\n\t\t\t\t}\r\n\t\t\t\tnavigate(-1);\r\n\t\t\t})\r\n\t\t\t.catch(error =>\r\n\t\t\t\tdispatch(getAlert({ message: error.response.data.message, type: 'error', isOpened: true }))\r\n\t\t\t)\r\n\t\t\t.finally(() => {\r\n\t\t\t\tsetForm({ title: '', textBody: '', source: '' });\r\n\t\t\t\tsetPictureSource({});\r\n\t\t\t\tpictureUrl.current = '';\r\n\t\t\t});\r\n\t};\r\n\r\n\treturn (\r\n\t\t<form className={classes.form}>\r\n\t\t\t<div className={classes.inner__picture}>\r\n\t\t\t\t<div className={classes.block__picture}>\r\n\t\t\t\t\t<InputBox form={form} keyObject=\"title\" setForm={setForm} title=\"Заголовок новости:\" />\r\n\t\t\t\t\t<InputFileBox\r\n\t\t\t\t\t\tsetForm={setForm}\r\n\t\t\t\t\t\tpictureUrl={pictureUrl}\r\n\t\t\t\t\t\tsetPictureSource={setPictureSource}\r\n\t\t\t\t\t\ttitle=\"Картинка для новости:\"\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<ImageBox\r\n\t\t\t\t\tpictureUrl={pictureUrl}\r\n\t\t\t\t\tpictureSource={pictureSource}\r\n\t\t\t\t\tsetPictureSource={setPictureSource}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t\t<TextArea form={form} setForm={setForm} title=\"Текст новости:\" keyObject=\"textBody\" />\r\n\t\t\t<ButtonSendBox sendForm={sendForm} title=\"Сохранение новости на сервере!\" />\r\n\t\t</form>\r\n\t);\r\n};\r\n\r\nexport default FormNewsEdit;\r\n","export function createFormData(form, type) {\r\n\tconst formData = new FormData();\r\n\tformData.append('type', type);\r\n\tformData.append('newsId', form.newsId);\r\n\tformData.append('files', form.source);\r\n\tformData.append('title', form.title);\r\n\tformData.append('textBody', form.textBody);\r\n\r\n\treturn formData;\r\n}\r\n","// extracted by mini-css-extract-plugin\nexport default {\"box__textarea\":\"TextArea_box__textarea__43r-x\",\"box__interactive\":\"TextArea_box__interactive__Jvk79\",\"box__title\":\"TextArea_box__title__iQAgF\",\"textarea\":\"TextArea_textarea__V56Zd\",\"mr-10\":\"TextArea_mr-10__ymiKA\"};","import React from 'react';\r\nimport Checkmark from '../Checkmark/Checkmark';\r\nimport classes from './TextArea.module.css';\r\nconst TextArea = ({ form, setForm, title, keyObject, boxClass }) => {\r\n\treturn (\r\n\t\t<div className={`${classes.box__textarea} ${classes[boxClass]}`}>\r\n\t\t\t<h2 className={classes.box__title}>{title}</h2>\r\n\t\t\t<div className={classes.box__interactive}>\r\n\t\t\t\t<textarea\r\n\t\t\t\t\tvalue={form[keyObject]}\r\n\t\t\t\t\tonChange={e => setForm(prev => ({ ...prev, [keyObject]: e.target.value }))}\r\n\t\t\t\t\tclassName={classes.textarea}\r\n\t\t\t\t/>\r\n\t\t\t\t<Checkmark isCompleted={form[keyObject]} />\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default TextArea;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"NewsEdit_wrapper__cmucl\",\"title\":\"NewsEdit_title__5MYYm\"};","import React, { useEffect, useState } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport { getNewsOne } from '../../api/news';\r\nimport HNewsEdit from '../../Components/Helmets/HNewsEdit';\r\nimport FormNewsEdit from '../../Components/UI/FormNewsEdit/FormNewsEdit';\r\n\r\nimport classes from '../PagesCss/NewsEdit.module.css';\r\n\r\nconst NewsEdit = () => {\r\n\tconst [newsOne, setNewsOne] = useState([]);\r\n\r\n\tconst { newsId } = useParams({});\r\n\r\n\tuseEffect(() => {\r\n\t\tgetNewsOne(newsId).then(data => {\r\n\t\t\tsetNewsOne(data);\r\n\t\t});\r\n\t}, [newsId]);\r\n\r\n\treturn (\r\n\t\t<section className={classes.wrapper}>\r\n\t\t\t{newsOne._id ? (\r\n\t\t\t\t<>\r\n\t\t\t\t\t<HNewsEdit />\r\n\t\t\t\t\t<h2 className={classes.title}>Редактирование новости</h2>\r\n\t\t\t\t\t<FormNewsEdit newsOne={newsOne} type=\"edit\" />\r\n\t\t\t\t</>\r\n\t\t\t) : (\r\n\t\t\t\t''\r\n\t\t\t)}\r\n\t\t</section>\r\n\t);\r\n};\r\n\r\nexport default NewsEdit;\r\n"],"names":["name","content","pictureUrl","pictureSource","setPictureSource","picture","current","process","source","className","classes","src","alt","size","ButtonClose","getClick","undefined","setForm","title","ButtonInput","event","file","target","files","Math","trunc","reader","FileReader","readAsDataURL","onload","result","prev","newsOne","type","useState","newsTitle","textBody","newsText","image","newsId","_id","form","useRef","dispatch","useDispatch","navigate","useNavigate","InputBox","keyObject","ImageBox","TextArea","ButtonSendBox","sendForm","preventDefault","getAlert","message","isOpened","formData","FormData","append","createFormData","postNews","then","data","status","catch","error","response","finally","boxClass","value","onChange","e","Checkmark","isCompleted","setNewsOne","useParams","useEffect","getNewsOne","HNewsEdit","FormNewsEdit"],"sourceRoot":""}