{"version":3,"file":"static/js/684.8ff3dac0.chunk.js","mappings":"2JACA,GAAgB,SAAW,2BAA2B,UAAY,4BAA4B,YAAc,8BAA8B,IAAM,uB,SC+BhJ,EA1BiB,SAAH,GAAyD,IAAnDA,EAAU,EAAVA,WAAYC,EAAa,EAAbA,cAAeC,EAAgB,EAAhBA,iBAMxCC,EAAoB,OAAVH,QAAU,IAAVA,GAAAA,EAAYI,QAAO,UARrBC,2BAQiC,YAAIL,EAAWI,SAAYH,EAAcK,OAExF,OACC,gBAAKC,UAAWC,EAAAA,eAAuB,SACrCL,GACA,iBAAKI,UAAWC,EAAAA,SAAiB,WAChC,gBAAKD,UAAWC,EAAAA,IAAaC,IAAKN,EAASO,IAAI,UAC/C,iBAAKH,UAAWC,EAAAA,UAAkB,WACjC,0BAAOP,EAAcU,QACrB,4BAAOV,EAAcW,KAAK,YAE3B,gBAAKL,UAAWC,EAAAA,YAAoB,UACnC,SAACK,EAAA,EAAW,CAACC,SAjBC,WAClBZ,EAAiB,CAAC,GAClBF,EAAWI,QAAU,EACtB,cAiBMW,GAGP,C,iIC7BA,EAA6B,uCAA7B,EAAiF,uC,SCkDjF,EA9C2B,SAAH,GAAwD,IAAlDC,EAAO,EAAPA,QAASd,EAAgB,EAAhBA,iBAAkBe,EAAK,EAALA,MAAOC,EAAQ,EAARA,SAoC/D,OACC,iBAAKX,UAAWC,EAAmB,WAClC,eAAID,UAAWC,EAAmB,SAAES,KACpC,SAACE,EAAA,EAAW,CAACL,SAtCI,SAAAM,GAClB,GAAIF,EAAU,CACb,IAEsB,EAFhBG,EAAQD,EAAME,OAAOD,MAAM,UAEhBA,GAAK,qBAAG,IAAhBE,EAAI,QACNX,EAAOY,KAAKC,MAAMF,EAAKX,KAAO,KAE9Bc,EAAS,IAAIC,WACnBD,EAAOE,cAAcL,GAErBG,EAAOG,QAAM,uBAAG,mFACfb,GAAQ,SAAAc,GAAI,yBACRA,GAAI,IACPC,QAAQ,GAAD,eAAMD,EAAKC,SAAO,CAAE,CAAEzB,OAAQoB,EAAOM,OAAQrB,KAAMY,EAAKZ,KAAMC,KAAAA,MAAO,IACzE,0CAEN,EAZA,8BAiBA,+BACD,KAAO,CACN,IAAMW,EAAOH,EAAME,OAAOD,MAAM,GAC1BT,EAAOY,KAAKC,MAAMF,EAAKX,KAAO,KAE9Bc,EAAS,IAAIC,WACnBD,EAAOE,cAAcL,GAErBG,EAAOG,QAAM,uBAAG,mFACf3B,EAAiB,CAAEI,OAAQoB,EAAOM,OAAQrB,KAAMY,EAAKZ,KAAMC,KAAAA,IAC3DI,GAAQ,SAAAc,GAAI,yBAAUA,GAAI,IAAEG,YAAaP,EAAOM,QAAM,IAAK,0CAE7D,CACD,EAIqCd,SAAUA,EAAS,SAAC,0EAK1D,C,mGChDA,GAAgB,cAAgB,gCAAgC,iBAAmB,mCAAmC,WAAa,6BAA6B,SAAW,2BAA2B,QAAQ,yB,SCkB9M,EAhBiB,SAAH,GAAuD,IAAjDgB,EAAI,EAAJA,KAAMlB,EAAO,EAAPA,QAASC,EAAK,EAALA,MAAOkB,EAAS,EAATA,UAAWC,EAAQ,EAARA,SACpD,OACC,iBAAK7B,UAAS,UAAKC,EAAAA,cAAqB,YAAIA,EAAQ4B,IAAY,WAC/D,eAAI7B,UAAWC,EAAAA,WAAmB,SAAES,KACpC,iBAAKV,UAAWC,EAAAA,iBAAyB,WACxC,qBACC6B,MAAOH,EAAKC,GACZG,SAAU,SAAAC,GAAC,OAAIvB,GAAQ,SAAAc,GAAI,yBAAUA,GAAI,cAAGK,EAAYI,EAAEjB,OAAOe,OAAK,GAAI,EAC1E9B,UAAWC,EAAAA,YAEZ,SAACgC,EAAA,EAAS,CAACC,YAAaP,EAAKC,UAIjC,C,wJChBA,GAAgB,eAAiB,qCAAqC,MAAQ,6B,uCCkF9E,EArEqB,SAAH,GAAuB,IAAjBO,EAAS,EAATA,UACvB,GAAwBC,EAAAA,EAAAA,UAAS,CAAED,UAAAA,IAAY,eAAxCR,EAAI,KAAElB,EAAO,KACpB,GAA0C2B,EAAAA,EAAAA,UAAS,CAAC,GAAE,eAA/C1C,EAAa,KAAEC,EAAgB,KAEhC0C,GAAWC,EAAAA,EAAAA,MACXC,GAAWC,EAAAA,EAAAA,MA0BjB,OACC,kBAAMxC,UAAWC,EAAAA,KAAa,WAC7B,iBAAKD,UAAWC,EAAAA,eAAuB,WACtC,iBAAKD,UAAWC,EAAAA,eAAuB,WACtC,SAACwC,EAAA,EAAQ,CAACd,KAAMA,EAAMC,UAAU,OAAOnB,QAASA,EAASC,MAAM,wGAC/D,SAAC+B,EAAA,EAAQ,CACRd,KAAMA,EACNC,UAAU,YACVnB,QAASA,EACTC,MAAM,iDACNgC,UAAU,KAEX,SAACD,EAAA,EAAQ,CACRd,KAAMA,EACNC,UAAU,UACVnB,QAASA,EACTC,MAAM,yLAEP,SAACiC,EAAA,EAAkB,CAClBlC,QAASA,EACTd,iBAAkBA,EAClBe,MAAM,4GACNkC,KAAK,UAEN,SAACC,EAAA,EAAQ,CACRlB,KAAMA,EACNlB,QAASA,EACTC,MAAM,0IACNkB,UAAU,oBAGZ,SAACkB,EAAA,EAAQ,CAACpD,cAAeA,EAAeC,iBAAkBA,QAE3D,SAACoD,EAAA,EAAa,CAACC,SAzDA,SAAAnC,GAGhB,GAFAA,EAAMoC,oBACmBtB,EAAKD,cACJC,EAAKvB,OAASuB,EAAKuB,UAAYvB,EAAKwB,YAC7D,OAAOd,GACNe,EAAAA,EAAAA,GAAS,CAAEC,QAAS,mHAA0BT,KAAM,UAAWU,UAAU,MAG3EC,EAAAA,EAAAA,IAAU5B,GACR6B,MAAK,SAAAC,GACgB,OAAb,OAAJA,QAAI,IAAJA,OAAI,EAAJA,EAAMC,SACTrB,GAASe,EAAAA,EAAAA,GAAS,CAAEC,QAASI,EAAKA,KAAKJ,QAAST,KAAM,UAAWU,UAAU,KAE5Ef,EAAS,sBACV,IACCoB,OAAM,SAAAC,GACNvB,GAASe,EAAAA,EAAAA,GAAS,CAAEC,QAASO,EAAMC,SAASJ,KAAKJ,QAAST,KAAM,QAASU,UAAU,IACpF,IACCQ,SAAQ,WACRrD,EAAQ,CAAEL,KAAM,GAAI8C,QAAS,GAAIxB,YAAa,KAC9C/B,EAAiB,CAAC,EACnB,GACF,EAmCqCe,MAAM,uKAG5C,E,UChEA,EAXoB,WACnB,IAAQyB,GAAc4B,EAAAA,EAAAA,MAAd5B,UAER,OACC,qBAASnC,UAAWC,EAAAA,EAAAA,QAAgB,WACnC,eAAID,UAAWC,EAAAA,EAAAA,MAAc,SAAC,+JAC9B,SAAC,EAAY,CAACkC,UAAWA,MAG5B,C,qBCdA,KAAgB,QAAU,4BAA4B,MAAQ,0BAA0B,aAAe,iC","sources":["webpack://client/./src/Components/ImageBox/ImageBox.module.css?e088","Components/ImageBox/ImageBox.jsx","webpack://client/./src/Components/UI/InputFileReduceBox/InputFileReduceBox.module.css?4647","Components/UI/InputFileReduceBox/InputFileReduceBox.jsx","webpack://client/./src/Components/UI/TextArea/TextArea.module.css?e782","Components/UI/TextArea/TextArea.jsx","webpack://client/./src/Components/UI/FormAlbumAdd/FormAlbumAdd.module.css?b3ba","Components/UI/FormAlbumAdd/FormAlbumAdd.jsx","Pages/Admin/AlbumCreate.jsx","webpack://client/./src/Pages/PagesCss/NewsCreate.module.css?d1ad"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"box__img\":\"ImageBox_box__img__760hb\",\"img__info\":\"ImageBox_img__info__QIBMJ\",\"cross__info\":\"ImageBox_cross__info__5W7sl\",\"img\":\"ImageBox_img__pZi5v\"};","import React from 'react';\r\nimport ButtonClose from '../UI/ButtonClose/ButtonClose';\r\n\r\nimport classes from './ImageBox.module.css';\r\nconst server = process.env.REACT_APP_SERVER_EXPRESS;\r\n\r\nconst ImageBox = ({ pictureUrl, pictureSource, setPictureSource }) => {\r\n\tconst closeImage = () => {\r\n\t\tsetPictureSource({});\r\n\t\tpictureUrl.current = '';\r\n\t};\r\n\r\n\tconst picture = pictureUrl?.current ? `${server}/${pictureUrl.current}` : pictureSource.source;\r\n\r\n\treturn (\r\n\t\t<div className={classes.block__picture}>\r\n\t\t\t{picture ? (\r\n\t\t\t\t<div className={classes.box__img}>\r\n\t\t\t\t\t<img className={classes.img} src={picture} alt=\"news\" />\r\n\t\t\t\t\t<div className={classes.img__info}>\r\n\t\t\t\t\t\t<span>{pictureSource.name}</span>\r\n\t\t\t\t\t\t<span>{pictureSource.size}kB</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className={classes.cross__info}>\r\n\t\t\t\t\t\t<ButtonClose getClick={closeImage} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t) : undefined}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default ImageBox;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"box__input\":\"InputFileReduceBox_box__input__FtlmK\",\"box__title\":\"InputFileReduceBox_box__title__J8EtK\"};","import React from 'react';\r\nimport ButtonInput from '../ButtonInput/ButtonInput';\r\n\r\nimport classes from './InputFileReduceBox.module.css';\r\n\r\nconst InputFileReduceBox = ({ setForm, setPictureSource, title, multiple }) => {\r\n\tconst getPicture = event => {\r\n\t\tif (multiple) {\r\n\t\t\tconst files = event.target.files;\r\n\r\n\t\t\tfor (let file of files) {\r\n\t\t\t\tconst size = Math.trunc(file.size / 8000);\r\n\r\n\t\t\t\tconst reader = new FileReader();\r\n\t\t\t\treader.readAsDataURL(file);\r\n\r\n\t\t\t\treader.onload = async () => {\r\n\t\t\t\t\tsetForm(prev => ({\r\n\t\t\t\t\t\t...prev,\r\n\t\t\t\t\t\tsources: [...prev.sources, { source: reader.result, name: file.name, size }],\r\n\t\t\t\t\t}));\r\n\t\t\t\t};\r\n\t\t\t}\r\n\r\n\t\t\t// setForm(prev => ({\r\n\t\t\t// \t...prev,\r\n\t\t\t// \tsources: [...prev.sources, { source: reader.result, name: file.name, size }],\r\n\t\t\t// }));\r\n\t\t} else {\r\n\t\t\tconst file = event.target.files[0];\r\n\t\t\tconst size = Math.trunc(file.size / 8000);\r\n\r\n\t\t\tconst reader = new FileReader();\r\n\t\t\treader.readAsDataURL(file);\r\n\r\n\t\t\treader.onload = async () => {\r\n\t\t\t\tsetPictureSource({ source: reader.result, name: file.name, size });\r\n\t\t\t\tsetForm(prev => ({ ...prev, base64Image: reader.result }));\r\n\t\t\t};\r\n\t\t}\r\n\t};\r\n\treturn (\r\n\t\t<div className={classes.box__input}>\r\n\t\t\t<h2 className={classes.box__title}>{title}</h2>\r\n\t\t\t<ButtonInput getClick={getPicture} multiple={multiple}>\r\n\t\t\t\tВыбрать файл\r\n\t\t\t</ButtonInput>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default InputFileReduceBox;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"box__textarea\":\"TextArea_box__textarea__43r-x\",\"box__interactive\":\"TextArea_box__interactive__Jvk79\",\"box__title\":\"TextArea_box__title__iQAgF\",\"textarea\":\"TextArea_textarea__V56Zd\",\"mr-10\":\"TextArea_mr-10__ymiKA\"};","import React from 'react';\r\nimport Checkmark from '../Checkmark/Checkmark';\r\nimport classes from './TextArea.module.css';\r\nconst TextArea = ({ form, setForm, title, keyObject, boxClass }) => {\r\n\treturn (\r\n\t\t<div className={`${classes.box__textarea} ${classes[boxClass]}`}>\r\n\t\t\t<h2 className={classes.box__title}>{title}</h2>\r\n\t\t\t<div className={classes.box__interactive}>\r\n\t\t\t\t<textarea\r\n\t\t\t\t\tvalue={form[keyObject]}\r\n\t\t\t\t\tonChange={e => setForm(prev => ({ ...prev, [keyObject]: e.target.value }))}\r\n\t\t\t\t\tclassName={classes.textarea}\r\n\t\t\t\t/>\r\n\t\t\t\t<Checkmark isCompleted={form[keyObject]} />\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default TextArea;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"inner__picture\":\"FormAlbumAdd_inner__picture__iyhb-\",\"input\":\"FormAlbumAdd_input__XW+tN\"};","import React, { useState } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nimport { getAlert } from '../../../redux/features/alertMessageSlice';\r\nimport ImageBox from '../../ImageBox/ImageBox';\r\nimport ButtonSendBox from '../ButtonSendBox/ButtonSendBox';\r\nimport InputBox from '../InputBox/InputBox';\r\n\r\nimport classes from './FormAlbumAdd.module.css';\r\nimport { postAlbum } from '../../../api/gallery';\r\nimport InputFileReduceBox from '../InputFileReduceBox/InputFileReduceBox';\r\nimport TextArea from '../TextArea/TextArea';\r\n\r\nconst FormAlbumAdd = ({ galleryId }) => {\r\n\tconst [form, setForm] = useState({ galleryId });\r\n\tconst [pictureSource, setPictureSource] = useState({});\r\n\r\n\tconst dispatch = useDispatch();\r\n\tconst navigate = useNavigate();\r\n\r\n\tconst sendForm = event => {\r\n\t\tevent.preventDefault();\r\n\t\tconst isCompleteSource = form.base64Image ? true : false;\r\n\t\tif (!isCompleteSource || !form.name || !form.nameDir || !form.description) {\r\n\t\t\treturn dispatch(\r\n\t\t\t\tgetAlert({ message: 'Не все поля заполнены!', type: 'warning', isOpened: true })\r\n\t\t\t);\r\n\t\t}\r\n\t\tpostAlbum(form)\r\n\t\t\t.then(data => {\r\n\t\t\t\tif (data?.status === 200) {\r\n\t\t\t\t\tdispatch(getAlert({ message: data.data.message, type: 'success', isOpened: true }));\r\n\t\t\t\t}\r\n\t\t\t\tnavigate('/admin/gallery/edit');\r\n\t\t\t})\r\n\t\t\t.catch(error => {\r\n\t\t\t\tdispatch(getAlert({ message: error.response.data.message, type: 'error', isOpened: true }));\r\n\t\t\t})\r\n\t\t\t.finally(() => {\r\n\t\t\t\tsetForm({ name: '', nameDir: '', base64Image: '' });\r\n\t\t\t\tsetPictureSource({});\r\n\t\t\t});\r\n\t};\r\n\r\n\treturn (\r\n\t\t<form className={classes.form}>\r\n\t\t\t<div className={classes.inner__picture}>\r\n\t\t\t\t<div className={classes.block__picture}>\r\n\t\t\t\t\t<InputBox form={form} keyObject=\"name\" setForm={setForm} title=\"Заголовок альбома:\" />\r\n\t\t\t\t\t<InputBox\r\n\t\t\t\t\t\tform={form}\r\n\t\t\t\t\t\tkeyObject=\"galleryId\"\r\n\t\t\t\t\t\tsetForm={setForm}\r\n\t\t\t\t\t\ttitle=\"ID галереи:\"\r\n\t\t\t\t\t\tdisabled={true}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<InputBox\r\n\t\t\t\t\t\tform={form}\r\n\t\t\t\t\t\tkeyObject=\"nameDir\"\r\n\t\t\t\t\t\tsetForm={setForm}\r\n\t\t\t\t\t\ttitle=\"Название папки альбома на сервере:\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<InputFileReduceBox\r\n\t\t\t\t\t\tsetForm={setForm}\r\n\t\t\t\t\t\tsetPictureSource={setPictureSource}\r\n\t\t\t\t\t\ttitle=\"Обложка для альбома:\"\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<TextArea\r\n\t\t\t\t\t\tform={form}\r\n\t\t\t\t\t\tsetForm={setForm}\r\n\t\t\t\t\t\ttitle=\"Краткое описание альбома:\"\r\n\t\t\t\t\t\tkeyObject=\"description\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<ImageBox pictureSource={pictureSource} setPictureSource={setPictureSource} />\r\n\t\t\t</div>\r\n\t\t\t<ButtonSendBox sendForm={sendForm} title=\"Сохранение галереи на сервере!\" />\r\n\t\t</form>\r\n\t);\r\n};\r\n\r\nexport default FormAlbumAdd;\r\n","import React from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport FormAlbumAdd from '../../Components/UI/FormAlbumAdd/FormAlbumAdd';\r\n\r\nimport classes from '../PagesCss/NewsCreate.module.css';\r\n\r\nconst AlbumCreate = () => {\r\n\tconst { galleryId } = useParams();\r\n\r\n\treturn (\r\n\t\t<section className={classes.wrapper}>\r\n\t\t\t<h2 className={classes.title}>Добавление альбома в галерею</h2>\r\n\t\t\t<FormAlbumAdd galleryId={galleryId} />\r\n\t\t</section>\r\n\t);\r\n};\r\n\r\nexport default AlbumCreate;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"NewsCreate_wrapper__3beFw\",\"title\":\"NewsCreate_title__W7Lp3\",\"box__buttons\":\"NewsCreate_box__buttons__hvllH\"};"],"names":["pictureUrl","pictureSource","setPictureSource","picture","current","process","source","className","classes","src","alt","name","size","ButtonClose","getClick","undefined","setForm","title","multiple","ButtonInput","event","files","target","file","Math","trunc","reader","FileReader","readAsDataURL","onload","prev","sources","result","base64Image","form","keyObject","boxClass","value","onChange","e","Checkmark","isCompleted","galleryId","useState","dispatch","useDispatch","navigate","useNavigate","InputBox","disabled","InputFileReduceBox","type","TextArea","ImageBox","ButtonSendBox","sendForm","preventDefault","nameDir","description","getAlert","message","isOpened","postAlbum","then","data","status","catch","error","response","finally","useParams"],"sourceRoot":""}