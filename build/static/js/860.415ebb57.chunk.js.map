{"version":3,"file":"static/js/860.415ebb57.chunk.js","mappings":"gPACA,GAAgB,QAAU,2BAA2B,MAAQ,yBAAyB,MAAQ,0B,SCiH9F,EAtGkB,WACjB,OAAkCA,EAAAA,EAAAA,UAAS,CAAC,GAAE,eAAvCC,EAAS,KAAEC,EAAY,KAEtBC,GAAYC,EAAAA,EAAAA,MAAZD,SAERE,EAAAA,EAAAA,YAAU,YACTC,EAAAA,EAAAA,IAASH,GAASI,MAAK,SAAAC,GAAI,OAAIN,EAAaM,EAAKA,KAAKC,MAAM,GAC7D,GAAG,CAACN,IAEJ,IAAMO,GAAWC,EAAAA,EAAAA,MACXC,GAAWC,EAAAA,EAAAA,MA2BjB,OACC,qBAASC,UAAWC,EAAAA,QAAgB,WACnC,eAAID,UAAWC,EAAAA,MAAc,SAAC,oNAC9B,iBAAMD,UAAWC,EAAAA,KAAa,UAC7B,iBAAKD,UAAWC,EAAAA,MAAc,WAC7B,SAACC,EAAA,EAAQ,CACRC,MAAM,4HACNC,KAAMjB,EACNkB,QAASjB,EACTkB,UAAU,YACVC,KAAK,OACLC,SAAS,WAEV,SAACN,EAAA,EAAQ,CACRC,MAAM,wFACNC,KAAMjB,EACNkB,QAASjB,EACTkB,UAAU,YACVC,KAAK,OACLC,SAAS,WAEV,SAACN,EAAA,EAAQ,CACRC,MAAM,iCACNC,KAAMjB,EACNkB,QAASjB,EACTkB,UAAU,YACVC,KAAK,OACLC,SAAS,WAEV,SAACN,EAAA,EAAQ,CACRC,MAAM,0DACNC,KAAMjB,EACNkB,QAASjB,EACTkB,UAAU,OACVC,KAAK,OACLC,SAAS,WAEV,SAACN,EAAA,EAAQ,CACRC,MAAM,uEACNC,KAAMjB,EACNkB,QAASjB,EACTkB,UAAU,WACVC,KAAK,SACLC,SAAS,WAEV,SAACN,EAAA,EAAQ,CACRC,MAAM,kLACNC,KAAMjB,EACNkB,QAASjB,EACTkB,UAAU,gBACVC,KAAK,OACLC,SAAS,WAEV,gBAAKR,UAAWC,EAAAA,YAAoB,UACnC,SAACQ,EAAA,EAAa,CAACN,MAAM,2JAA8BO,SA/EvC,SAAAC,GAChBA,EAAEC,kBACFC,EAAAA,EAAAA,IAAUxB,EAASF,GACjBM,MAAK,SAAAC,GACLI,GACCgB,EAAAA,EAAAA,GAAS,CACRC,QAASrB,EAAKA,KAAKqB,QACnBR,KAAM,UACNS,UAAU,KAGZpB,EAAS,qBAEV,IACCqB,OAAM,SAAAC,GACNpB,GACCgB,EAAAA,EAAAA,GAAS,CACRC,QAAS,+KACTR,KAAM,QACNS,UAAU,IAGb,GACF,EAwD4ER,SAAS,kBAInF,SAACW,EAAA,EAAM,CAACC,SAAU,kBAAMxB,GAAU,EAAE,EAAEyB,kBAAkB,UAAS,SAAC,qCAKrE,C","sources":["webpack://client/./src/Pages/PagesCss/EventEdit.module.css?932a","Pages/Admin/EventEdit.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"EventEdit_wrapper__nm64H\",\"title\":\"EventEdit_title__EDTuT\",\"block\":\"EventEdit_block__irHN8\"};","import React, { useEffect, useState } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { useNavigate, useParams } from 'react-router-dom';\r\n\r\nimport { getEvent, postEvent } from '../../api/events';\r\nimport Button from '../../Components/UI/Button/Button';\r\nimport ButtonSendBox from '../../Components/UI/ButtonSendBox/ButtonSendBox';\r\nimport InputBox from '../../Components/UI/InputBox/InputBox';\r\nimport { getAlert } from '../../redux/features/alertMessageSlice';\r\n\r\nimport classes from '../PagesCss/EventEdit.module.css';\r\n\r\nconst EventEdit = () => {\r\n\tconst [eventForm, setEventForm] = useState({});\r\n\r\n\tconst { eventId } = useParams();\r\n\r\n\tuseEffect(() => {\r\n\t\tgetEvent(eventId).then(data => setEventForm(data.data.event));\r\n\t}, [eventId]);\r\n\r\n\tconst navigate = useNavigate();\r\n\tconst dispatch = useDispatch();\r\n\r\n\tconst sendForm = e => {\r\n\t\te.preventDefault();\r\n\t\tpostEvent(eventId, eventForm)\r\n\t\t\t.then(data => {\r\n\t\t\t\tdispatch(\r\n\t\t\t\t\tgetAlert({\r\n\t\t\t\t\t\tmessage: data.data.message,\r\n\t\t\t\t\t\ttype: 'success',\r\n\t\t\t\t\t\tisOpened: true,\r\n\t\t\t\t\t})\r\n\t\t\t\t);\r\n\t\t\t\tnavigate('/admin/events/edit');\r\n\t\t\t\treturn;\r\n\t\t\t})\r\n\t\t\t.catch(error => {\r\n\t\t\t\tdispatch(\r\n\t\t\t\t\tgetAlert({\r\n\t\t\t\t\t\tmessage: 'Ошибка при сохранении изменений!',\r\n\t\t\t\t\t\ttype: 'error',\r\n\t\t\t\t\t\tisOpened: true,\r\n\t\t\t\t\t})\r\n\t\t\t\t);\r\n\t\t\t});\r\n\t};\r\n\r\n\treturn (\r\n\t\t<section className={classes.wrapper}>\r\n\t\t\t<h2 className={classes.title}>Редактирование описания соревнования</h2>\r\n\t\t\t<form className={classes.form}>\r\n\t\t\t\t<div className={classes.block}>\r\n\t\t\t\t\t<InputBox\r\n\t\t\t\t\t\ttitle=\"Название соревнования\"\r\n\t\t\t\t\t\tform={eventForm}\r\n\t\t\t\t\t\tsetForm={setEventForm}\r\n\t\t\t\t\t\tkeyObject=\"eventName\"\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tboxClass=\"mr-10\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<InputBox\r\n\t\t\t\t\t\ttitle=\"Дата проведения\"\r\n\t\t\t\t\t\tform={eventForm}\r\n\t\t\t\t\t\tsetForm={setEventForm}\r\n\t\t\t\t\t\tkeyObject=\"eventDate\"\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tboxClass=\"mr-10\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<InputBox\r\n\t\t\t\t\t\ttitle=\"Город\"\r\n\t\t\t\t\t\tform={eventForm}\r\n\t\t\t\t\t\tsetForm={setEventForm}\r\n\t\t\t\t\t\tkeyObject=\"eventCity\"\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tboxClass=\"mr-10\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<InputBox\r\n\t\t\t\t\t\ttitle=\"Тип заезда\"\r\n\t\t\t\t\t\tform={eventForm}\r\n\t\t\t\t\t\tsetForm={setEventForm}\r\n\t\t\t\t\t\tkeyObject=\"type\"\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tboxClass=\"mr-10\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<InputBox\r\n\t\t\t\t\t\ttitle=\"Дистанция, км\"\r\n\t\t\t\t\t\tform={eventForm}\r\n\t\t\t\t\t\tsetForm={setEventForm}\r\n\t\t\t\t\t\tkeyObject=\"distance\"\r\n\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\tboxClass=\"mr-10\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<InputBox\r\n\t\t\t\t\t\ttitle=\"Ссылка на сегмент в Страве (полная)\"\r\n\t\t\t\t\t\tform={eventForm}\r\n\t\t\t\t\t\tsetForm={setEventForm}\r\n\t\t\t\t\t\tkeyObject=\"segmentStrava\"\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tboxClass=\"mr-10\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<div className={classes.box__button}>\r\n\t\t\t\t\t\t<ButtonSendBox title=\"Сохранение введенных данных\" sendForm={sendForm} boxClass=\"mr-10\" />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</form>\r\n\t\t\t<Button getClick={() => navigate(-1)} additionalClasses=\"warning\">\r\n\t\t\t\tНазад\r\n\t\t\t</Button>\r\n\t\t</section>\r\n\t);\r\n};\r\n\r\nexport default EventEdit;\r\n"],"names":["useState","eventForm","setEventForm","eventId","useParams","useEffect","getEvent","then","data","event","navigate","useNavigate","dispatch","useDispatch","className","classes","InputBox","title","form","setForm","keyObject","type","boxClass","ButtonSendBox","sendForm","e","preventDefault","postEvent","getAlert","message","isOpened","catch","error","Button","getClick","additionalClasses"],"sourceRoot":""}