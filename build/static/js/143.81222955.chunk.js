"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[143],{8143:function(e,n,t){t.r(n),t.d(n,{default:function(){return j}});var s=t(9439),i=t(2791),r=t(9434),c=t(7689),l=t(2072),d=t(6171),a=t(4515),u=t(184),h=function(e){var n=e.albums,t=e.deleteAlbum,s=(0,c.s0)();return(0,u.jsxs)("table",{children:[(0,u.jsx)("thead",{children:(0,u.jsxs)("tr",{children:[(0,u.jsx)("th",{children:"#"}),(0,u.jsx)("th",{children:"\u0414\u0430\u0442\u0430"}),(0,u.jsx)("th",{children:"\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435"}),(0,u.jsx)("th",{children:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"}),(0,u.jsx)("th",{children:"\u0421\u043e\u0437\u0434\u0430\u0442\u0435\u043b\u044c"}),(0,u.jsx)("th",{children:"\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u0430\u043b\u044c\u0431\u043e\u043c\u0430"}),(0,u.jsx)("th",{children:"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0444\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u0439"}),(0,u.jsx)("th",{children:"\u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u0430\u043b\u044c\u0431\u043e\u043c\u0430"}),(0,u.jsx)("th",{children:"\u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u0444\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u0439"})]})}),(0,u.jsx)("tbody",{children:n.map((function(e,n){return(0,u.jsxs)("tr",{children:[(0,u.jsx)("td",{children:n+1}),(0,u.jsx)("td",{children:new Date(e.date).toLocaleDateString()}),(0,u.jsx)("td",{children:(0,u.jsx)("img",{className:a.Z.td__news__image,src:"".concat("https://bike-caucasus.ru","/").concat(e.urlCover),alt:"news"})}),(0,u.jsx)("td",{className:a.Z.align__left,children:e.name}),(0,u.jsx)("td",{children:e.creatorId.username}),(0,u.jsx)("td",{children:(0,u.jsx)(d.Z,{getClick:function(){return s(e._id)},additionalClasses:"td__link",children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"})}),(0,u.jsx)("td",{children:(0,u.jsx)(d.Z,{getClick:function(){return s("photos-add/".concat(e._id))},additionalClasses:"td__link",children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"})}),(0,u.jsx)("td",{children:(0,u.jsx)(d.Z,{getClick:function(){return t(e._id,e.name)},additionalClasses:"td__link warning",children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})}),(0,u.jsx)("td",{children:(0,u.jsx)(d.Z,{getClick:function(){return s("photos-delete/".concat(e._id))},additionalClasses:"td__link warning",children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})})]},e._id)}))})]})},o=t(1882),x=t(6626),j=function(){var e=(0,i.useState)([]),n=(0,s.Z)(e,2),t=n[0],a=n[1],j=(0,i.useState)(!1),_=(0,s.Z)(j,2),f=_[0],m=_[1],g=(0,r.I0)(),p=(0,c.UO)().galleryId,b=(0,c.s0)();(0,i.useEffect)((function(){(0,l.LU)(p).then((function(e){a(e.data.albums)}))}),[p,f]);return(0,u.jsxs)("section",{className:x.Z.wrapper,children:[(0,u.jsx)("h2",{className:x.Z.title,children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0430\u043b\u044c\u0431\u043e\u043c\u043e\u0432"}),t.length?(0,u.jsx)(h,{albums:t,deleteAlbum:function(e,n){if(!window.confirm('\u0412\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0430\u043b\u044c\u0431\u043e\u043c "'.concat(n,'"?')))return g((0,o.u)({message:"\u041e\u0442\u043c\u0435\u043d\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f \u0430\u043b\u044c\u0431\u043e\u043c\u0430",type:"warning",isOpened:!0}));(0,l.WJ)(e).then((function(e){var n;g((0,o.u)({message:null===(n=e.data)||void 0===n?void 0:n.message,type:"success",isOpened:!0}))})).catch((function(e){g((0,o.u)({message:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0438 \u0430\u043b\u044c\u0431\u043e\u043c\u0430 \u043d\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0435!",type:"error",isOpened:!0}))})).finally((function(){return m((function(e){return!e}))}))}}):"Loading...",(0,u.jsxs)("div",{className:x.Z.box__buttons,children:[(0,u.jsx)(d.Z,{getClick:function(){return b(-1)},children:"\u041d\u0430\u0437\u0430\u0434"}),(0,u.jsx)(d.Z,{getClick:function(){return b("add")},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0430\u043b\u044c\u0431\u043e\u043c"})]})]})}},6626:function(e,n){n.Z={wrapper:"NewsCreate_wrapper__3beFw",title:"NewsCreate_title__W7Lp3",box__buttons:"NewsCreate_box__buttons__hvllH"}}}]);
//# sourceMappingURL=143.81222955.chunk.js.map