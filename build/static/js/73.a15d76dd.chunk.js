"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[73],{4079:function(e,t,r){r.d(t,{Z:function(){return a}});r(2791);var n=r(9442),s={box__img:"ImageBox_box__img__760hb",img__info:"ImageBox_img__info__QIBMJ",cross__info:"ImageBox_cross__info__5W7sl",img:"ImageBox_img__pZi5v"},i=r(184),a=function(e){var t=e.pictureUrl,r=e.pictureSource,a=e.setPictureSource,c=null!==t&&void 0!==t&&t.current?"".concat("https://bike-caucasus.ru","/").concat(t.current):r.source;return(0,i.jsx)("div",{className:s.block__picture,children:c?(0,i.jsxs)("div",{className:s.box__img,children:[(0,i.jsx)("img",{className:s.img,src:c,alt:"news"}),(0,i.jsxs)("div",{className:s.img__info,children:[(0,i.jsx)("span",{children:r.name}),(0,i.jsxs)("span",{children:[r.size,"kB"]})]}),(0,i.jsx)("div",{className:s.cross__info,children:(0,i.jsx)(n.Z,{getClick:function(){a({}),t.current=""}})})]}):void 0})}},4567:function(e,t,r){r.d(t,{Z:function(){return m}});var n=r(4165),s=r(3433),i=r(1413),a=r(5861),c=r(7762),u=(r(2791),r(6369)),o="InputFileReduceBox_box__input__FtlmK",l="InputFileReduceBox_box__title__J8EtK",_=r(184),m=function(e){var t=e.setForm,r=e.setPictureSource,m=e.title,d=e.multiple;return(0,_.jsxs)("div",{className:o,children:[(0,_.jsx)("h2",{className:l,children:m}),(0,_.jsx)(u.Z,{getClick:function(e){if(d){var u,o=e.target.files,l=(0,c.Z)(o);try{var _=function(){var e=u.value,r=Math.trunc(e.size/8e3),c=new FileReader;c.readAsDataURL(e),c.onload=(0,a.Z)((0,n.Z)().mark((function a(){return(0,n.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t((function(t){return(0,i.Z)((0,i.Z)({},t),{},{sources:[].concat((0,s.Z)(t.sources),[{source:c.result,name:e.name,size:r}])})}));case 1:case"end":return n.stop()}}),a)})))};for(l.s();!(u=l.n()).done;)_()}catch(x){l.e(x)}finally{l.f()}}else{var m=e.target.files[0],f=Math.trunc(m.size/8e3),p=new FileReader;p.readAsDataURL(m),p.onload=(0,a.Z)((0,n.Z)().mark((function e(){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r({source:p.result,name:m.name,size:f}),t((function(e){return(0,i.Z)((0,i.Z)({},e),{},{base64Image:p.result})}));case 2:case"end":return e.stop()}}),e)})))}},multiple:d,children:"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0444\u0430\u0439\u043b"})]})}},2073:function(e,t,r){r.r(t),r.d(t,{default:function(){return g}});var n=r(2791),s=r(9439),i=r(9434),a=r(7689),c=r(1882),u=r(4079),o=r(7023),l=r(6750),_={inner__picture:"FormGalleryEdit_inner__picture__0w48L",input:"FormGalleryEdit_input__CgOh-"},m=r(2072),d=r(4567),f=r(184),p=function(){var e=(0,n.useState)({}),t=(0,s.Z)(e,2),r=t[0],p=t[1],x=(0,n.useState)({}),g=(0,s.Z)(x,2),h=g[0],v=g[1],Z=(0,i.I0)(),j=(0,a.s0)();return(0,f.jsxs)("form",{className:_.form,children:[(0,f.jsxs)("div",{className:_.inner__picture,children:[(0,f.jsxs)("div",{className:_.block__picture,children:[(0,f.jsx)(l.Z,{form:r,keyObject:"name",setForm:p,title:"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a \u0433\u0430\u043b\u0435\u0440\u0435\u0438:"}),(0,f.jsx)(l.Z,{form:r,keyObject:"nameDir",setForm:p,title:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043f\u0430\u043f\u043a\u0438 \u043d\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0435:"}),(0,f.jsx)(d.Z,{setForm:p,setPictureSource:v,title:"\u041e\u0431\u043b\u043e\u0436\u043a\u0430 \u0434\u043b\u044f \u0433\u0430\u043b\u0435\u0440\u0435\u0438:",type:"text"})]}),(0,f.jsx)(u.Z,{pictureSource:h,setPictureSource:v})]}),(0,f.jsx)(o.Z,{sendForm:function(e){if(e.preventDefault(),!!!r.base64Image||!r.name||!r.nameDir)return Z((0,c.u)({message:"\u041d\u0435 \u0432\u0441\u0435 \u043f\u043e\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u044b!",type:"warning",isOpened:!0}));(0,m.g_)(r).then((function(e){200===(null===e||void 0===e?void 0:e.status)&&Z((0,c.u)({message:e.data.message,type:"success",isOpened:!0})),j("/gallery")})).catch((function(e){Z((0,c.u)({message:e.response.data.message,type:"error",isOpened:!0}))})).finally((function(){p({name:"",nameDir:"",base64Image:""}),v({})}))},title:"\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435 \u0433\u0430\u043b\u0435\u0440\u0435\u0438 \u043d\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0435!"})]})},x=r(6626),g=function(){return(0,f.jsxs)("section",{className:x.Z.wrapper,children:[(0,f.jsx)("h2",{className:x.Z.title,children:"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438 \u0433\u0430\u043b\u0435\u0440\u0435\u0438"}),(0,f.jsx)(p,{type:"create"})]})}},6626:function(e,t){t.Z={wrapper:"NewsCreate_wrapper__3beFw",title:"NewsCreate_title__W7Lp3",box__buttons:"NewsCreate_box__buttons__hvllH"}}}]);
//# sourceMappingURL=73.a15d76dd.chunk.js.map